<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://cdn.baomitu.com/index/fonts/css?family=Ma Shan Zheng:300,300italic,400,400italic,700,700italic|Noto Sans Simplified Chinese:300,300italic,400,400italic,700,700italic|Noto Serif SC:300,300italic,400,400italic,700,700italic|Monaco:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="//lib.baomitu.com/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css">
  <link rel="stylesheet" href="//lib.baomitu.com/pace/1.0.2/themes/blue/pace-theme-minimal.min.css">
  <script src="//lib.baomitu.com/pace/1.0.2/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xuemingde.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":true,"sidebar":{"position":"left","width":300,"display":"always","padding":18,"offset":10,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="我的愿望，世界和平">
<meta property="og:type" content="website">
<meta property="og:title" content="Middle&#39;s blog">
<meta property="og:url" content="https://xuemingde.com/page/2/index.html">
<meta property="og:site_name" content="Middle&#39;s blog">
<meta property="og:description" content="我的愿望，世界和平">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="meadel">
<meta property="article:tag" content="meadel">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://xuemingde.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Middle's blog - 一位程序员的成长之路</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Middle's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">一位程序员的成长之路</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-notepad">

    <a href="/notepad/" rel="section"><i class="fa fa-book fa-fw"></i>备忘录</a>

  </li>
        <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-download fa-fw"></i>资源库</a>

  </li>
        <li class="menu-item menu-item-collect">

    <a href="/collect/" rel="section"><i class="fa fa-star fa-fw"></i>收藏夹</a>

  </li>
        <li class="menu-item menu-item-links">

    <a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友链</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

           <div id="container-1">
            <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xuemingde.com/posts/C8CVJR.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpeg">
      <meta itemprop="name" content="meadel">
      <meta itemprop="description" content="我的愿望，世界和平">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Middle's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/C8CVJR.html" class="post-title-link" itemprop="url">Qt基础学习笔记03</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-12-07 00:00:00" itemprop="dateCreated datePublished" datetime="2022-12-07T00:00:00+08:00">2022-12-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-12-14 11:28:31" itemprop="dateModified" datetime="2022-12-14T11:28:31+08:00">2022-12-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">嵌入式</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/Qt/" itemprop="url" rel="index"><span itemprop="name">Qt</span></a>
                </span>
            </span>

          
            <span id="/posts/C8CVJR.html" class="post-meta-item leancloud_visitors" data-flag-title="Qt基础学习笔记03" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/C8CVJR.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/C8CVJR.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>10k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p><strong>转载标注来源</strong></p>
</blockquote>
<h1 id="Model-View结构"><a href="#Model-View结构" class="headerlink" title="Model/View结构"></a>Model/View结构</h1><p>GUI应用程序的一个很重要的功能是由用户在界面上编辑和修改数据，典型的如数据库应用程序。数据库应用程序中，用户在界面上执行各种操作，实际上是修改了界面组件所关联的数据库内的数据。</p>
<p>将界面组件与所编辑的数据分离开来，又通过数据源的方式连接起来，是处理界面与数据的一种较好的方式。Qt使用Model/View结构来处理这种关系，Model/View的基本结构如下图：</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/07/082402wojM1B.png" alt=""></p>
<ul>
<li>数据(Data)是实际的数据，如数据库的一个数据表或SQL查询结果，内存中的一个StringList,或磁盘文件结构等。</li>
<li>视图或视图组件(View)是屏幕上的界面组件，视图从数据模型获得每个数据项的模型索引(model index),通过模型索引获取数据，然后为界面组件提供显示数据。Qt提供一些现成的数据视图组件，如QListView、QTree View和QTable View等。</li>
<li>模型或数据模型(Modl)与实际数据通信，并为视图组件提供数据接口。它从原始数据提取需要的内容，用于视图组件进行显示和编辑。Q中有一些预定义的数据模型，如<br>QStringListModel可作为StringList的数据模型，QSqlTableModel可以作为数据库中一个数据表的数据模型。</li>
</ul>
<p>由于数据源与显示界面通过Mode/View结构分离开来，因此可以将一个数据模型在不同的视<br>图中显示，也可以在不修改数据模型的情况下，设计特殊的视图组件。</p>
<p>在Model/View结构中，还提供了代理(Delegate)功能，代理功能可以让用户定制数据的界面显示和编辑方式。在标准的视图组件中，代理功能显示一个数据，当数据被编辑时，代理通过模型索引与数据模型通信，并为编辑数据提供一个编辑器，一般是一个QLineEdit组件。</p>
<p>模型、视图和代理之间使用信号和槽通信。当源数据发生变化时，数据模型发射信号通知视<br>图组件：当用户在界面上操作数据时，视图组件发射信号表示这些操作信息：当编辑数据时，代理发射信号告知数据模型和视图组件编辑器的状态。</p>
<h2 id="数据模型"><a href="#数据模型" class="headerlink" title="数据模型"></a>数据模型</h2><p>所有的基于项数据(item data)的数据模型(Model)都是基于QAbstractItemModel类的，这个类定义了视图组件和代理存取数据的接口。数据无需存储在数据模型里，数据可以是其他类、文件、数据库或任何数据源。Qt中与数据模型相关的几个主要的类的层次结构如下图：</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/07/0835352cqGoy.png" alt=""></p>
<p>抽象类是不能直接使用的，需要由子类继承来实现一些纯虚函数。Qt提供了一些模型类用于项数据处理</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/07/083834yEqMCj.png" alt=""></p>
<h2 id="视图组件"><a href="#视图组件" class="headerlink" title="视图组件"></a>视图组件</h2><p>视图组件(Viw)就是显示数据模型的数据的界面组件，Qt提供的视图组件如下：</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/07/085954mU2zht.png" alt=""></p>
<p>视图组件在显示数据时，只需调用视图类的setModelO)函数，为视图组件设置一个数据模型就可以实现视图组件与数据模型之间的关联，在视图组件上的修改将自动保存到关联的数据模型    里，一个数据模型可以同时在多个视图组件里显示数据。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/07/093401rPeKsF.png" alt=""></p>
<h2 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h2><p><img data-src="https://xuemingde.com/pages/image/2022/12/07/095156feona9.png" alt=""></p>
<h2 id="Model-View结构的一些概念"><a href="#Model-View结构的一些概念" class="headerlink" title="Model/View结构的一些概念"></a>Model/View结构的一些概念</h2><ul>
<li><p>Model/View的基本结构</p>
<p>在Model/View结构中，数据模型为视图组件和代理提供存取数据的标准接口。在Qt中，所有的数据模型类都从QAbstractItemModel继承而来，不管底层的数据结构是如何组织数据的，QAbstractItemModel的子类都以表格的层次结构表示数据，视图组件通过这种规则来存取模型中的数据，但是表现给用户的形式不一样。</p>
<p>不管数据模型的表现形式是怎么样的，数据模型中存储数据的基本单元都是项(item),每个项有一个行号、一个列号，还有一个父项(parent item)。在列表和表格模式下，所有的项都有一个相同的顶层项(root item):在树状结构中，行号、列号、父项稍微复杂一点，但是由这3个参数完全可以定义一个项的位置，从而存取项的数据。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/07/102147PnzkHH.png" alt="数据模型的几种表现形式"></p>
</li>
</ul>
<ul>
<li><p>模型索引</p>
<p>为了保证数据的表示与数据存取方式隔离，数据模型中引入了模型索引(model index)的概念。通过数据模型存取的每个数据都有一个模型索引，视图组件和代理都通过模型索引来获<br>取数据。<br>QModelIndex表示模型索引的类。模型索引提供数据存取的一个临时指针，用于通过数据模型提取或修改数据。因为模型内部组织数据的结构随时可能改变，所以模型索引是临时的。如果需要使用持久性的模型索引，则要使用QPersistentModelIndex类。</p>
</li>
<li><p>行号和列号</p>
<p>数据模型的基本形式是用行和列定义的表格数据，但这并不意味着底层的数据是用二维数组存储的，使用行和列只是为了组件之间交互方便的一种规定。通过模型索引的行号和列号就可以存取数据。<br>要获得一个模型索引，必须提供3个参数：行号、列号、父项的模型索引。例如，对于如上图中的表格数据模型中的3个数据项A、B、C,获取其模型索引的代码是：</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/07/102729JGl4Sy.png" alt=""></p>
<p>在创建模型索引的函数中需要传递行号、列号和父项的模型索引。对于列表和表格模式的数据模型，顶层节点总是用QModelIndex()表示。</p>
</li>
<li><p>父项</p>
<p>当数据模型是列表或表格时，使用行号、列号存储数据比较直观，所有数据项的父项(parent itm)就是顶层项：当数据模型是树状结构时，情况比较复杂（树状结构中，项一般习惯于称为节点)，一个节点可以有父节点，也可以是其他节点的父节点，在构造数据项的模型索引时，必须指定正确的行号、列号和父节点。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/07/102908jnDyQG.png" alt=""></p>
</li>
<li><p>项的角色</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/07/1031319WqTac.png" alt=""></p>
</li>
</ul>
<h1 id="QFileSystemModel"><a href="#QFileSystemModel" class="headerlink" title="QFileSystemModel"></a>QFileSystemModel</h1><h2 id="QFileSystemModel类的基本功能"><a href="#QFileSystemModel类的基本功能" class="headerlink" title="QFileSystemModel类的基本功能"></a>QFileSystemModel类的基本功能</h2><p><img data-src="https://xuemingde.com/pages/image/2022/12/09/100420SVKram.png" alt=""></p>
<p>这里还有另一种写法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">connect(ui-&gt;treeView,&amp;QTreeView::clicked,[=]()&#123;</span><br><span class="line">        ui-&gt;listView-&gt;setRootIndex(ui-&gt;treeView-&gt;currentIndex());</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p>效果：</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/09/101417A0rxzX.png" alt=""></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_treeView_clicked</span><span class="params">(<span class="keyword">const</span> QModelIndex &amp;index)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ui-&gt;chkIsDir-&gt;setChecked(model-&gt;isDir(index));</span><br><span class="line">    ui-&gt;LabPath-&gt;setText(model-&gt;filePath(index));</span><br><span class="line">    ui-&gt;LabType-&gt;setText(model-&gt;type(index));</span><br><span class="line">    ui-&gt;LabFileName-&gt;setText(model-&gt;fileName(index));</span><br><span class="line">    <span class="keyword">int</span> sz = model-&gt;size(index) / <span class="number">1024</span>;</span><br><span class="line">    <span class="keyword">if</span>(sz &lt; <span class="number">1024</span>)&#123;</span><br><span class="line">        ui-&gt;LabFileSize-&gt;setText(QString(<span class="string">&quot;%1 KB&quot;</span>).arg(sz));</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        ui-&gt;LabFileSize-&gt;setText(QString::asprintf(<span class="string">&quot;%.1f MB&quot;</span>,sz / <span class="number">1024.0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果：</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/09/103249D16Bsq.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/09/105740C8J2Dy.png" alt=""></p>
<h1 id="QStringListModel"><a href="#QStringListModel" class="headerlink" title="QStringListModel"></a>QStringListModel</h1><p><img data-src="https://xuemingde.com/pages/image/2022/12/09/183521tBWnRT.png" alt=""></p>
<p>效果：</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/09/183545q9rSK8.png" alt=""></p>
<ul>
<li><p>编辑、添加、删除项的操作</p>
<ul>
<li><p>编辑</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ui-&gt;listView-&gt;setEditTriggers(QAbstractItemView::DoubleClicked | QAbstractItemView::SelectedClicked);<span class="comment">// 表示在双击，或选择并单击列表项后，就进入编辑状态。</span></span><br><span class="line"><span class="comment">//setEditTrigger函数设置QListView是否可编辑，以及进入编辑状态。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//若要设置为不可编辑，则可以设置为：</span></span><br><span class="line">ui-&gt;listView-&gt;setEditTriggers(QAbstractItemView::NoEditTriggers);</span><br></pre></td></tr></table></figure>
<p>​</p>
</li>
<li><p>添加项</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Widget::on_btnListAppend_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    theModel-&gt;insertRow(theModel-&gt;rowCount());</span><br><span class="line">    QModelIndex index = theModel-&gt;index(theModel-&gt;rowCount() - <span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    theModel-&gt;setData(index,<span class="string">&quot;new item&quot;</span>,Qt::DisplayRole);</span><br><span class="line">    ui-&gt;listView-&gt;setCurrentIndex(index);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/12/110212zDyJkZ.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/12/110242eck0hT.png" alt=""></p>
</li>
<li><p>插入项</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/12/110648qdrVQ0.png" alt=""></p>
</li>
<li><p>删除当前项</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/12/111038azaY5z.png" alt="3"></p>
</li>
<li><p>删除列表</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/12/1110540PKO6q.png" alt=""></p>
</li>
</ul>
</li>
</ul>
<h1 id="QStandardItemModel"><a href="#QStandardItemModel" class="headerlink" title="QStandardItemModel"></a>QStandardItemModel</h1><p><img data-src="https://xuemingde.com/pages/image/2022/12/12/112938j6j7Og.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/12/113039bAKVg1.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/12/113054sNjWey.png" alt=""></p>
<h2 id="界面设计与主窗口类定义"><a href="#界面设计与主窗口类定义" class="headerlink" title="界面设计与主窗口类定义"></a>界面设计与主窗口类定义</h2><p><img data-src="https://xuemingde.com/pages/image/2022/12/12/142405JugDU5.png" alt=""></p>
<h2 id="QStandardItemModel的使用"><a href="#QStandardItemModel的使用" class="headerlink" title="QStandardItemModel的使用"></a>QStandardItemModel的使用</h2><ul>
<li><p>从文本文件导入数据</p>
<p>QStandardltemModel 是标准的基于项数据的数据模型，以类似于二维数组的形式管理内部数据，适合于处理表格型数据，其显示一般采用QTableView。</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">MainWindow::MainWindow(QWidget *parent)</span><br><span class="line">    : QMainWindow(parent)</span><br><span class="line">    , ui(<span class="keyword">new</span> Ui::MainWindow)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;setupUi(<span class="keyword">this</span>);</span><br><span class="line">    setCentralWidget(ui-&gt;splitter);</span><br><span class="line">    theModel = <span class="keyword">new</span> QStandardItemModel(<span class="number">1</span>,FixedColumuCount,<span class="keyword">this</span>); <span class="comment">// 数据模型</span></span><br><span class="line">    theSelection = <span class="keyword">new</span> QItemSelectionModel(theModel);</span><br><span class="line">    connect(ui-&gt;tableView,&amp;QTableView::clicked,[=]()&#123;</span><br><span class="line">       QModelIndex curindex = theSelection-&gt;currentIndex();</span><br><span class="line">       on_currentChanged(curindex);</span><br><span class="line">    &#125;);</span><br><span class="line">    ui-&gt;tableView-&gt;setModel(theModel);</span><br><span class="line">    ui-&gt;tableView-&gt;setSelectionModel(theSelection);</span><br><span class="line">    ui-&gt;tableView-&gt;setSelectionMode(QAbstractItemView::ExtendedSelection);</span><br><span class="line">    ui-&gt;tableView-&gt;setSelectionBehavior(QAbstractItemView::SelectItems);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MainWindow::~MainWindow()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_currentChanged</span><span class="params">(<span class="keyword">const</span> QModelIndex &amp;current)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(current.isValid())&#123;</span><br><span class="line">        ui-&gt;labCellPos-&gt;setText(QString::asprintf(<span class="string">&quot;当前单元格：%d行，%d列&quot;</span>,current.row() + <span class="number">1</span>,current.column()+ <span class="number">1</span>));</span><br><span class="line">        QStandardItem *aItem = theModel-&gt;itemFromIndex(current);</span><br><span class="line">        ui-&gt;labCellText-&gt;setText(<span class="string">&quot;单元格内容：&quot;</span> + aItem-&gt;text());</span><br><span class="line">        QFont font = aItem-&gt;font();</span><br><span class="line">        ui-&gt;actFontBold-&gt;setChecked(font.bold());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_actOpen_triggered</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString curPath = QCoreApplication::applicationDirPath();</span><br><span class="line">    QString aFileName = QFileDialog::getOpenFileName(<span class="keyword">this</span>,<span class="string">&quot;打开一个文件&quot;</span>,curPath,<span class="string">&quot;井数据文件(*.txt);;所有文件(*.*)&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(aFileName.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    QStringList fFileCoentent;</span><br><span class="line">    <span class="function">QFile <span class="title">aFile</span><span class="params">(aFileName)</span></span>;</span><br><span class="line">    <span class="keyword">if</span>(aFile.open(QIODevice::ReadOnly | QIODevice::Text))&#123;</span><br><span class="line">        <span class="function">QTextStream <span class="title">aStream</span><span class="params">(&amp;aFile)</span></span>;</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;clear();</span><br><span class="line">        <span class="keyword">while</span> (!aStream.atEnd()) &#123;</span><br><span class="line">            QString str = aStream.readLine();</span><br><span class="line">            ui-&gt;plainTextEdit-&gt;appendPlainText(str);</span><br><span class="line">            fFileCoentent.append(str);</span><br><span class="line">        &#125;</span><br><span class="line">        aFile.close();</span><br><span class="line">        ui-&gt;labCurFile-&gt;setText(<span class="string">&quot;当前文件：&quot;</span> + aFileName);</span><br><span class="line">        iniModelFormStringList(fFileCoentent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::iniModelFormStringList</span><span class="params">(QStringList &amp; aFileCoentent)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> rowCnt = aFileCoentent.count();</span><br><span class="line">    theModel-&gt;setRowCount(rowCnt - <span class="number">1</span>);</span><br><span class="line">    QString header = aFileCoentent.at(<span class="number">0</span>);</span><br><span class="line">    QStringList headerList = header.split(QRegExp(<span class="string">&quot;\\s+&quot;</span>),QString::SkipEmptyParts);</span><br><span class="line">    theModel-&gt;setHorizontalHeaderLabels(headerList);</span><br><span class="line"></span><br><span class="line">    QStandardItem *aItem;</span><br><span class="line">    QStringList tmpList;</span><br><span class="line">    <span class="keyword">int</span> j;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; rowCnt; i++) &#123;</span><br><span class="line">        QString aLineText = aFileCoentent.at(i);</span><br><span class="line">        tmpList = aLineText.split(QRegExp(<span class="string">&quot;\\s+&quot;</span>),QString::SkipEmptyParts);</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>;j &lt; FixedColumuCount - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            aItem = <span class="keyword">new</span> QStandardItem(tmpList.at(j));</span><br><span class="line">            theModel-&gt;setItem(i - <span class="number">1</span>,j,aItem);</span><br><span class="line">        &#125;</span><br><span class="line">        aItem = <span class="keyword">new</span> QStandardItem(tmpList.at(j));</span><br><span class="line">        aItem-&gt;setCheckable(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">if</span>(tmpList.at(j) == <span class="string">&quot;0&quot;</span>)&#123;</span><br><span class="line">            aItem-&gt;setCheckState(Qt::Unchecked);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            aItem-&gt;setCheckState(Qt::Checked);</span><br><span class="line">        &#125;</span><br><span class="line">        theModel-&gt;setItem(i - <span class="number">1</span>,j,aItem);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/13/103502Uu5L5a.png" alt=""></p>
<p><code>theModel-&gt;setHorizontalHeaderLabels(headerList);</code>函数：设置表头标题。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/13/110953kGYwSa.png" alt=""></p>
<ul>
<li><p>添加行</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_actAppend_triggered</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QList&lt;QStandardItem*&gt; aItemList;</span><br><span class="line">    QStandardItem *aItem;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; FixedColumuCount - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        aItem = <span class="keyword">new</span> QStandardItem(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        aItemList &lt;&lt; aItem;</span><br><span class="line">    &#125;</span><br><span class="line">    QString str = theModel-&gt;headerData(theModel-&gt;columnCount() - <span class="number">1</span>,Qt::Horizontal,Qt::DisplayRole).toString();</span><br><span class="line">    aItem = <span class="keyword">new</span> QStandardItem(str);</span><br><span class="line">    aItem-&gt;setCheckable(<span class="literal">true</span>);</span><br><span class="line">    aItemList &lt;&lt; aItem;</span><br><span class="line"></span><br><span class="line">    theModel-&gt;insertRow(theModel-&gt;rowCount(), aItemList);</span><br><span class="line">    QModelIndex curindex = theModel-&gt;index(theModel-&gt;rowCount() - <span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    theSelection-&gt;clearSelection();</span><br><span class="line">    theSelection-&gt;setCurrentIndex(curindex,QItemSelectionModel::Select);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/13/163228hEV094.png" alt=""></p>
</li>
<li><p>插入行</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_actInsert_triggered</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QList&lt;QStandardItem*&gt; aItemList;</span><br><span class="line">    QStandardItem *aItem;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; FixedColumuCount - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        aItem = <span class="keyword">new</span> QStandardItem(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        aItemList &lt;&lt; aItem;</span><br><span class="line">    &#125;</span><br><span class="line">    QString str = theModel-&gt;headerData(theModel-&gt;columnCount() - <span class="number">1</span>,Qt::Horizontal,Qt::DisplayRole).toString();</span><br><span class="line">    aItem = <span class="keyword">new</span> QStandardItem(str);</span><br><span class="line">    aItem-&gt;setCheckable(<span class="literal">true</span>);</span><br><span class="line">    aItemList &lt;&lt; aItem;</span><br><span class="line"></span><br><span class="line">    QModelIndex index = theSelection-&gt;currentIndex();</span><br><span class="line">    theModel-&gt;insertRow(index.row(), aItemList);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​</p>
</li>
<li><p>删除行</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_actDelete_triggered</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QModelIndex curIndex = theSelection-&gt;currentIndex();</span><br><span class="line">    <span class="keyword">if</span>(curIndex.row() == theModel-&gt;rowCount() - <span class="number">1</span>)&#123;</span><br><span class="line">        theModel-&gt;removeRow(curIndex.row());<span class="comment">//删除最后一行</span></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        theModel-&gt;removeRow(curIndex.row());</span><br><span class="line">        <span class="comment">//当前选择行</span></span><br><span class="line">        theSelection-&gt;setCurrentIndex(curIndex,QItemSelectionModel::Select);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>单元格格式设置</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//左对齐</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_actAlignLeft_triggered</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!theSelection-&gt;hasSelection())&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    QModelIndexList selectIndex = theSelection-&gt;selectedIndexes();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; selectIndex.count();i++) &#123;</span><br><span class="line">        QModelIndex aIndex = selectIndex.at(i);</span><br><span class="line">        QStandardItem *aItem = theModel-&gt;itemFromIndex(aIndex);</span><br><span class="line">        aItem-&gt;setTextAlignment(Qt::AlignLeft);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加粗</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_actFontBold_triggered</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!theSelection-&gt;hasSelection())&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    QModelIndexList selectIndex = theSelection-&gt;selectedIndexes();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; selectIndex.count();i++) &#123;</span><br><span class="line">        QModelIndex aIndex = selectIndex.at(i);</span><br><span class="line">        QStandardItem *aItem = theModel-&gt;itemFromIndex(aIndex);</span><br><span class="line">        QFont font = aItem-&gt;font();</span><br><span class="line">        font.setBold(<span class="literal">true</span>);</span><br><span class="line">        aItem-&gt;setFont(font);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据另存为文件</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">void MainWindow::on_actSave_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//保存为文件</span></span><br><span class="line">    QString curPath = QCoreApplication::applicationDirPath();</span><br><span class="line">    QString aFileName = QFileDialog::getSaveFileName(this,<span class="string">&quot;选择一个文件&quot;</span>,curPath,<span class="string">&quot;冰鞋数据文件(*.txt);;所有文件(*.*)&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(aFileName.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    QFile aFile(aFileName);</span><br><span class="line">    <span class="keyword">if</span>(!(aFile.open(QIODevice::ReadWrite | QIODevice::Text | QIODevice::Truncate)))&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    QTextStream aStream(&amp;aFile);</span><br><span class="line">    QStandardItem *aItem;</span><br><span class="line">    int i,j;</span><br><span class="line">    QString  <span class="built_in">str</span>;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;clear();</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>;i &lt; theModel-&gt;columnCount();i++) &#123;</span><br><span class="line">        aItem = theModel-&gt;horizontalHeaderItem(i);</span><br><span class="line">        <span class="built_in">str</span> = <span class="built_in">str</span> + aItem-&gt;text() + <span class="string">&quot;\t\t&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    aStream &lt;&lt; <span class="built_in">str</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="built_in">str</span>);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>;i &lt; theModel-&gt;rowCount();i++) &#123;</span><br><span class="line">        <span class="built_in">str</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>;j &lt; theModel-&gt;columnCount() - <span class="number">1</span>;j++) &#123;</span><br><span class="line">            aItem = theModel-&gt;item(i,j);</span><br><span class="line">            <span class="built_in">str</span> = <span class="built_in">str</span> + aItem-&gt;text() + QString::asprintf(<span class="string">&quot;\t\t&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        aItem = theModel-&gt;item(i,j);</span><br><span class="line">        <span class="keyword">if</span>(aItem-&gt;checkState() == Qt::Checked)&#123;</span><br><span class="line">            <span class="built_in">str</span> = <span class="built_in">str</span> + <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">str</span> = <span class="built_in">str</span> + <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="built_in">str</span>);</span><br><span class="line">        aStream &lt;&lt; <span class="built_in">str</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="自定义代理"><a href="#自定义代理" class="headerlink" title="自定义代理"></a>自定义代理</h1><p><img data-src="https://xuemingde.com/pages/image/2022/12/14/104007KqpcoX.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/14/104626Yr83DR.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/14/112452vHeaH7.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/14/112532Z5XE0K.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/14/112547GUReEO.png" alt=""></p>
<h2 id="自定义代理类的使用"><a href="#自定义代理类的使用" class="headerlink" title="自定义代理类的使用"></a>自定义代理类的使用</h2><p><img data-src="https://xuemingde.com/pages/image/2022/12/14/112733txJk7V.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/14/112753FU4yNR.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/14/112824xZCIWr.png" alt=""></p>

      
    </div>
   <div>
        
    </div>

   
    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>

  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xuemingde.com/posts/3V8G3VM.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpeg">
      <meta itemprop="name" content="meadel">
      <meta itemprop="description" content="我的愿望，世界和平">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Middle's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/3V8G3VM.html" class="post-title-link" itemprop="url">Qt基础学习笔记01</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-12-01 00:00:00 / 修改时间：17:44:34" itemprop="dateCreated datePublished" datetime="2022-12-01T00:00:00+08:00">2022-12-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">嵌入式</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/Qt/" itemprop="url" rel="index"><span itemprop="name">Qt</span></a>
                </span>
            </span>

          
            <span id="/posts/3V8G3VM.html" class="post-meta-item leancloud_visitors" data-flag-title="Qt基础学习笔记01" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/3V8G3VM.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/3V8G3VM.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><QtGlobal>头文件包含了Qt类库的一些全局定义，包括基本数据类型、函数和宏，一般的Qt类的头文件都会包含该文件，所以不用显式包含这个头文件也可以使用其中的定义。</p>
<h2 id="数据类型定义"><a href="#数据类型定义" class="headerlink" title="数据类型定义"></a>数据类型定义</h2><p><img data-src="https://xuemingde.com/pages/image/2022/12/01/142148yi18pE.png" alt=""></p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p><img data-src="https://xuemingde.com/pages/image/2022/12/01/152327E1M2Pg.png" alt=""></p>
<h2 id="容器类"><a href="#容器类" class="headerlink" title="容器类"></a>容器类</h2><p>字符串列表类QStringList就是从容器类QList<QString>继承的，实现对字符串列表的添加、存储、删除等操作。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/153248tsdG7P.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/153450kFMr4y.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/153639pw8d6P.png" alt=""></p>
<h3 id="顺序容器类"><a href="#顺序容器类" class="headerlink" title="顺序容器类"></a>顺序容器类</h3><p>Qt的顺序容器类有QList、QLinkedList、QVector、QStack和QQueue。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/154140lipzsB.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/154228cvqtqS.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/154320lPlewQ.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/1544149aKShL.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/154440JhsHyq.png" alt=""></p>
<h3 id="关联容器类"><a href="#关联容器类" class="headerlink" title="关联容器类"></a>关联容器类</h3><p>Qt还提供关联容器类QMap、QMultiMap、QHash、QMultiHash和QSet。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/154749eh9GjD.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/155539JL2xWV.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/155755rEv1ya.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/1600342ZL5vE.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/160134XvWC3v.png" alt=""></p>
<h2 id="容器类的迭代"><a href="#容器类的迭代" class="headerlink" title="容器类的迭代"></a>容器类的迭代</h2><p>迭代器(iterator)为访问容器类里的数据项提供了统一的方法，Qt有两种迭代器类：Java类型的迭代器和STL类型的迭代器。<br>Java类型的迭代器更易于使用，且提供一些高级功能，而STL类型的迭代器效率更高。<br>Qt还提供一个关键字foreach(实际是<QtGlobal>里定义的一个宏)用于方便地访问容器里所有数据项。</p>
<h3 id="java类型迭代器"><a href="#java类型迭代器" class="headerlink" title="java类型迭代器"></a>java类型迭代器</h3><p><img data-src="https://xuemingde.com/pages/image/2022/12/01/161658qhNpCu.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/162648qxdRsk.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/1630500gEZ7S.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/164737i7iJef.png" alt=""></p>
<h3 id="STL类型迭代器"><a href="#STL类型迭代器" class="headerlink" title="STL类型迭代器"></a>STL类型迭代器</h3><p>STL迭代器与Qt和STL的原生算法兼容，并且进行了速度优化。<br>对于每一个容器类，都有两个STL类型迭代器：一个用于只读访问，一个用于读写访问。<code>无需修改数据时一定使用只读迭代器，因为它们速度更快。</code></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/165029ahXnvM.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/165157sCic3c.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/172406EVXyOj.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/172637JF92Z6.png" alt=""></p>
<h3 id="foreach-关键字"><a href="#foreach-关键字" class="headerlink" title="foreach 关键字"></a>foreach 关键字</h3><p>如果只是想遍历容器中所有的项，可以使用foreach关键字。foreach是<QtGlobal>头文件中定义的一个宏。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/1728538fAXpi.png" alt=""></p>
<h2 id="Qt类库的模块"><a href="#Qt类库的模块" class="headerlink" title="Qt类库的模块"></a>Qt类库的模块</h2><p><img data-src="https://xuemingde.com/pages/image/2022/12/01/173613OH5ro9.png" alt=""></p>
<h3 id="基本模块"><a href="#基本模块" class="headerlink" title="基本模块"></a>基本模块</h3><p>Qt基本模块是Qt在所有平台上的基本功能，它们在所有的开发平台和目标平台上都可用，在Qt5所有版本上是源代码和二进制兼容的。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/173407GFWHl1.png" alt=""></p>
<p>Ot Core模块是Qt类库的核心，所有其他模块都依赖于此模块，如果使用qmake构建项目，则Qt Core模块是自动被加入项目的。</p>
<p>Qt GUI模块提供了用于开发GUI应用程序的必要的类，使用qmake构建应用程序时，Qt GUI模块是自动被加入项目的。如果项目中不使用GUI功能，则需要在项目配置文件中加入如下的一行：<br><code>QT -= gui</code></p>
<p>其他的模块一般不会被自动加入到项目，如果需要在项目中使用某个模块，则可以在项目配置中添加此模块。例如，如果需要在项目中使用Qt Multimedia和Qt Multimedia Widgets模块，需要在项目配置文件中加入如下的语句：<br><code>OT += multimedia multimediawidgets</code><br>需要在项目中使用Qt SQL模块，就在项目配置文件中加入如下的语句：<br><code>OT += sql</code></p>
<h3 id="附加模块"><a href="#附加模块" class="headerlink" title="附加模块"></a>附加模块</h3><p>Q附加模块可以实现一些特定目的。这些模块可能只在某些开发平台上有，或只能用于某些操作系统，或只是为了向后兼容。用户安装时可以选择性地安装这些附加模块。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/173738uWsVMZ.png" alt=""></p>
<h3 id="增值模块"><a href="#增值模块" class="headerlink" title="增值模块"></a>增值模块</h3><p>除了随Q5发布的上述这些模块，还有一些模块（见表3-8）是单独发布的，这些模块只在商业版许可的Qt里才有。</p>
<h3 id="技术预览模块"><a href="#技术预览模块" class="headerlink" title="技术预览模块"></a>技术预览模块</h3><p>技术预览模块就是一些还处于开发和测试阶段的模块，一般技术预览模块经过几个版本的发布后会变成正式的模块。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/173948dKlybJ.png" alt=""></p>
<h3 id="Qt工具"><a href="#Qt工具" class="headerlink" title="Qt工具"></a>Qt工具</h3><p><img data-src="https://xuemingde.com/pages/image/2022/12/01/174047wHXBsi.png" alt=""></p>

      
    </div>
   <div>
        
    </div>

   
    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>

  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xuemingde.com/posts/1QR2QPE.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpeg">
      <meta itemprop="name" content="meadel">
      <meta itemprop="description" content="我的愿望，世界和平">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Middle's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/1QR2QPE.html" class="post-title-link" itemprop="url">Qt基础学习笔记02</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-12-01 00:00:00" itemprop="dateCreated datePublished" datetime="2022-12-01T00:00:00+08:00">2022-12-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-12-06 17:23:37" itemprop="dateModified" datetime="2022-12-06T17:23:37+08:00">2022-12-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">嵌入式</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/Qt/" itemprop="url" rel="index"><span itemprop="name">Qt</span></a>
                </span>
            </span>

          
            <span id="/posts/1QR2QPE.html" class="post-meta-item leancloud_visitors" data-flag-title="Qt基础学习笔记02" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/1QR2QPE.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/1QR2QPE.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>7.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="常用界面设计组件"><a href="#常用界面设计组件" class="headerlink" title="常用界面设计组件"></a>常用界面设计组件</h1><p>Qt类库为应用程序设计提供了大量的类，本章主要介绍设计GUI应用程序常用的各种界面组件的使用，这些是设计GUI应用程序的基础。</p>
<h2 id="字符串与输人输出"><a href="#字符串与输人输出" class="headerlink" title="字符串与输人输出"></a>字符串与输人输出</h2><h3 id="字符串与数值之间的转换"><a href="#字符串与数值之间的转换" class="headerlink" title="字符串与数值之间的转换"></a>字符串与数值之间的转换</h3><p>QString类从字符串转换为整数的函数有：</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/184855au1f62.png" alt=""></p>
<p>这些函数如果不设置参数，缺省表示从十进制表示的字符串转换为整数：若指定整数基参数，<br>还可以直接将二进制、十六进制字符串转换为整数。</p>
<p>QString将字符串转换为浮点数的函数有：</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/1850513cGQ9R.png" alt=""></p>
<p>在得到单价和数量后做相乘运算，得到计算结果变量total,再将此数值显示在编辑框editTotal中。由于计算结果是浮点数，希望显示两位小数，下面4行语句都可以实现这个功能。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/190006lxrgug.png" alt=""></p>
<p><strong>进制转换</strong></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/190322otwcAX.png" alt=""></p>
<p>下面是读取二进制字符串，然后转换为十进制和十六进制显示的按钮的槽函数代码。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/190511lILf3S.png" alt=""></p>
<h3 id="QString的常用功能"><a href="#QString的常用功能" class="headerlink" title="QString的常用功能"></a>QString的常用功能</h3><p>QString是Qt编程中常用的类，除了用作数字量的输入输出之外，QString还有很多其他功能，熟悉这些常见的功能，有助于灵活地实现字符串处理功能。<br>QString存储字符串采用的是Unicode码，每一个字符是一个l6位的QChar,.而不是8位的char,所以QString处理中文字符没有问题，而且一个汉字算作是一个字符。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/1913169zdmyV.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/191337hPNhX7.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/191353n5IBSk.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/191410ms5DlV.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/191428eRF1YD.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/1915174F8LTt.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/191538FsrOWM.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/191551iNS3DL.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/191606Fdxh83.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/191621CpGrO1.png" alt=""></p>
<h2 id="SpinBox的使用"><a href="#SpinBox的使用" class="headerlink" title="SpinBox的使用"></a>SpinBox的使用</h2><p>QSpinBox用于整数的显示和输入，一般显示十进制数，也可以显示二进制、十六进制的数，而且可以在显示框中增加前缀或后缀。<br>QDoubleSpinBox用于浮点数的显示和输入，可以设置显示小数位数，也可以设置显示的前缀和后缀。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/192935HBMCEz.png" alt=""></p>
<h2 id="其他数值输人和显示组件"><a href="#其他数值输人和显示组件" class="headerlink" title="其他数值输人和显示组件"></a>其他数值输人和显示组件</h2><p><img data-src="https://xuemingde.com/pages/image/2022/12/01/193803TLT3P4.png" alt=""></p>
<h2 id="时间日期与定时器"><a href="#时间日期与定时器" class="headerlink" title="时间日期与定时器"></a>时间日期与定时器</h2><h3 id="时间日期相关的类"><a href="#时间日期相关的类" class="headerlink" title="时间日期相关的类"></a>时间日期相关的类</h3><p><img data-src="https://xuemingde.com/pages/image/2022/12/01/200634hBDAtp.png" alt=""></p>
<p>Qt中的定时器类是QTimer,它直接从QObject类继承而来，不是界面组件类。</p>
<h3 id="日期时间数据与字符串之间的转换"><a href="#日期时间数据与字符串之间的转换" class="headerlink" title="日期时间数据与字符串之间的转换"></a>日期时间数据与字符串之间的转换</h3><p><img data-src="https://xuemingde.com/pages/image/2022/12/01/204225TRQc9N.png" alt=""></p>
<p>时间格式转字符串：</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/204656e0k0uH.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/204725GLfhqE.png" alt=""></p>
<p>字符串转时间格式</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/204824MfJb98.png" alt=""></p>
<p>静态函数QDateTime::fromString(将一个字符串按照格式转换为日期时间类型</p>
<p>这里将字符串str按照格式”yyyy-MM-ddhh:mm:ss”转换为日期时间变量，格式是指字符串str所表示的日期时间的格式。</p>
<h3 id="定时器的使用"><a href="#定时器的使用" class="headerlink" title="定时器的使用"></a>定时器的使用</h3><p>Qt中的定时器类是QTimer。QTimer不是一个可见的界面组件，在UI设计器的组件面板里找不到它。实例程序实现了一个计时器的功能，就是计算定时器开始到停止持续的时间长度，计时器是QTime类。</p>
<p>QTimer主要的属性是interval,是定时中断的周期，单位毫秒。QTimer主要的信号是timeout(),在定时中断时发射此信号，要想在定时中断里做出响应，这就需要编写timeout()信号的槽函数。<br><img data-src="https://xuemingde.com/pages/image/2022/12/01/205311MRWga8.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/205408gZ5kS3.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/205427dj3sov.png" alt=""></p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/01/210127f0loKk.png" alt=""></p>
<h2 id="QComboBox-QPlainTextEdit"><a href="#QComboBox-QPlainTextEdit" class="headerlink" title="QComboBox QPlainTextEdit"></a>QComboBox QPlainTextEdit</h2><p>QComboBox是下拉列表框组件类，它提供一个下拉列表供用户选择，也可以直接当作一个QLineEdit用作输入。QComboBox除了显示可见下拉列表外，每个项(item,或称列表项)还可以关联一个QVariant类型的变量，用于存储一些不可见数据。</p>
<p>QPlainTextEdit是一个多行文本编辑器，用于显示和编辑多行简单文本。</p>
<h3 id="QComboBox"><a href="#QComboBox" class="headerlink" title="QComboBox"></a>QComboBox</h3><p>添加具有用户数据的项</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ui-&gt;comboBox-&gt;addItem(<span class="string">&quot;tes&quot;</span>,<span class="string">&quot;200&quot;</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QString zone = ui-&gt;comboBox-&gt;currentData().toString();</span><br></pre></td></tr></table></figure>
<h3 id="QPlain-TextEdit的使用"><a href="#QPlain-TextEdit的使用" class="headerlink" title="QPlain TextEdit的使用"></a>QPlain TextEdit的使用</h3><p>QPlainTextEdit是用于编辑多行文本的编辑器，可以编辑普通文本。另外，还有一个QTextEdit组件，是一个所见即所得的可以编辑带格式文本的组件，以HTML格式标记符定义文本格式。<br>从前面的代码已经看出，使用QPlainTextEdit:appendPlainText((const QString&amp;text)函数就可以向PlainTextEdit组件添加一行字符串。</p>
<p>QPlainTextEdit提供cutO、copy()、paste()、undo()、redo()、clear()、selectAllO等标准编辑功能的槽函数，QPlainTextEdit还提供一个标准的右键快捷菜单。</p>
<p>但是如果要逐行读取QPlainTextEdit组件里的字符串，则稍微麻烦一点。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/02/105305da3lcO.png" alt=""></p>
<h3 id="创建右键快捷菜单"><a href="#创建右键快捷菜单" class="headerlink" title="创建右键快捷菜单"></a>创建右键快捷菜单</h3><ol>
<li><p>创建Action</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/02/165916Oj3Nda.png" alt=""></p>
</li>
<li><p>添加QListWidget</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/02/170041ae0Spo.png" alt=""></p>
</li>
<li><p>QListWidget 转到槽</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/02/170204PJ6LAs.png" alt=""></p>
</li>
<li><p>添加代码</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/02/170302eJKuPJ.png" alt=""></p>
</li>
<li><p>效果</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/02/170325HAS886.png" alt=""></p>
</li>
</ol>
<h3 id="工具栏显式图片和文字"><a href="#工具栏显式图片和文字" class="headerlink" title="工具栏显式图片和文字"></a>工具栏显式图片和文字</h3><p><img data-src="https://xuemingde.com/pages/image/2022/12/05/102701OwKG3n.png" alt=""></p>
<h3 id="QTableWidget操作"><a href="#QTableWidget操作" class="headerlink" title="QTableWidget操作"></a>QTableWidget操作</h3><ul>
<li><p>设置表头</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/06/133950IenYkB.png" alt=""></p>
<p>​</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">QTableWidgetItem *headerItem;</span><br><span class="line">    QStringList headerText;</span><br><span class="line">    headerText &lt;&lt; <span class="string">&quot;姓名&quot;</span> &lt;&lt; <span class="string">&quot;性别&quot;</span> &lt;&lt; <span class="string">&quot;出生日期&quot;</span> &lt;&lt; <span class="string">&quot;民族&quot;</span> &lt;&lt; <span class="string">&quot;分数&quot;</span> &lt;&lt; <span class="string">&quot;是否党员&quot;</span>;</span><br><span class="line">    ui-&gt;tableInfo-&gt;setColumnCount(headerText.count());</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; ui-&gt;tableInfo-&gt;columnCount(); i++) &#123;</span><br><span class="line">        headerItem = <span class="keyword">new</span> QTableWidgetItem(headerText.at(i));</span><br><span class="line">        QFont font = headerItem-&gt;font();</span><br><span class="line">        font.setBold(<span class="literal">true</span>);</span><br><span class="line">        font.setPointSize(<span class="number">12</span>);</span><br><span class="line">        headerItem-&gt;setForeground(Qt::red);</span><br><span class="line">        headerItem-&gt;setFont(font);</span><br><span class="line">        ui-&gt;tableInfo-&gt;setHorizontalHeaderItem(i,headerItem);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/06/134124PDZAx7.png" alt=""></p>
<ul>
<li><p>初始化表格数据</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化表格数据</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_butIniData_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString strName,strSex;</span><br><span class="line">    <span class="keyword">bool</span> isParty = <span class="literal">false</span>;</span><br><span class="line">    QDate birth;</span><br><span class="line">    birth.setDate(<span class="number">1980</span>,<span class="number">3</span>,<span class="number">6</span>);</span><br><span class="line">    <span class="comment">//清除表格数据区的所有内容，但是不清除表头</span></span><br><span class="line">    ui-&gt;tableInfo-&gt;clearContents();</span><br><span class="line">    <span class="comment">//返回表格数据区的行数</span></span><br><span class="line">    <span class="keyword">int</span> Rows = ui-&gt;tableInfo-&gt;rowCount();</span><br><span class="line">    qDebug() &lt;&lt; Rows;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; Rows; i++) &#123;</span><br><span class="line">        strName = QString::asprintf(<span class="string">&quot;学生%d&quot;</span>,i);</span><br><span class="line">        <span class="keyword">if</span>((i % <span class="number">2</span>) == <span class="number">0</span>)&#123;</span><br><span class="line">            strSex = <span class="string">&quot;男&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">           strSex = <span class="string">&quot;女&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        createItemsARow(i,strName,strSex,birth,<span class="string">&quot;汉族&quot;</span>,isParty,<span class="number">70</span>);</span><br><span class="line">        birth = birth.addDays(<span class="number">20</span>);</span><br><span class="line">        isParty = !isParty;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::createItemsARow</span><span class="params">(<span class="keyword">int</span> rowNo, QString Name, QString Sex, QDate birth, QString Nation, <span class="keyword">bool</span> isPM, <span class="keyword">int</span> score)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    QTableWidgetItem *item;</span><br><span class="line">    QString str;</span><br><span class="line">    uint StudID = <span class="number">2022120600</span>;</span><br><span class="line">    <span class="comment">//姓名</span></span><br><span class="line">    item = <span class="keyword">new</span> QTableWidgetItem(Name,MainWindow::ctName);</span><br><span class="line">    item-&gt;setTextAlignment(Qt::AlignHCenter | Qt::AlignVCenter);</span><br><span class="line">    StudID += rowNo;</span><br><span class="line">    item-&gt;setData(Qt::UserRole,QVariant(StudID));</span><br><span class="line">    ui-&gt;tableInfo-&gt;setItem(rowNo,MainWindow::colName,item);</span><br><span class="line">    <span class="comment">//性别</span></span><br><span class="line">    QIcon icon;</span><br><span class="line">    <span class="keyword">if</span>(Sex == <span class="string">&quot;男&quot;</span>)&#123;</span><br><span class="line">        icon.addFile(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        icon.addFile(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    item = <span class="keyword">new</span> QTableWidgetItem(Sex,MainWindow::ctSex);</span><br><span class="line">    item-&gt;setIcon(icon);</span><br><span class="line">    item-&gt;setTextAlignment(Qt::AlignHCenter | Qt::AlignVCenter);</span><br><span class="line">    ui-&gt;tableInfo-&gt;setItem(rowNo,MainWindow::colSex,item);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//出生日期</span></span><br><span class="line">    str = birth.toString(<span class="string">&quot;yyyy-MM-dd&quot;</span>);</span><br><span class="line">    item = <span class="keyword">new</span> QTableWidgetItem(str,MainWindow::ctBirth);</span><br><span class="line">    item-&gt;setTextAlignment(Qt::AlignLeft | Qt::AlignVCenter);</span><br><span class="line">    ui-&gt;tableInfo-&gt;setItem(rowNo,MainWindow::colBirth,item);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//民族</span></span><br><span class="line">    item = <span class="keyword">new</span> QTableWidgetItem(Nation,MainWindow::ctNation);</span><br><span class="line">    item-&gt;setTextAlignment(Qt::AlignHCenter | Qt::AlignVCenter);</span><br><span class="line">    ui-&gt;tableInfo-&gt;setItem(rowNo,MainWindow::colNation,item);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//是否是党员</span></span><br><span class="line">    item = <span class="keyword">new</span> QTableWidgetItem(<span class="string">&quot;党员&quot;</span>,MainWindow::ctPartyM);</span><br><span class="line">    item-&gt;setTextAlignment(Qt::AlignHCenter | Qt::AlignVCenter);</span><br><span class="line">    <span class="keyword">if</span>(isPM)&#123;</span><br><span class="line">        item-&gt;setCheckState(Qt::Checked);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        item-&gt;setCheckState(Qt::Unchecked);</span><br><span class="line">    &#125;</span><br><span class="line">    item-&gt;setBackground(Qt::yellow);</span><br><span class="line">    ui-&gt;tableInfo-&gt;setItem(rowNo,MainWindow::colPartyM,item);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//分数</span></span><br><span class="line">    str.setNum(score);</span><br><span class="line">    item = <span class="keyword">new</span> QTableWidgetItem(str,MainWindow::ctScore);</span><br><span class="line">    item-&gt;setTextAlignment(Qt::AlignHCenter | Qt::AlignVCenter);</span><br><span class="line">    ui-&gt;tableInfo-&gt;setItem(rowNo,MainWindow::colScore,item);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/06/155427Vlg29m.png" alt=""></p>
</li>
<li><p>获得当前单元格数据</p>
<p><img data-src="https://files.catbox.moe/j6h3sk.png" alt=""></p>
</li>
</ul>
<p><img data-src="https://files.catbox.moe/3q8up5.png" alt=""></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_tableInfo_currentCellChanged</span><span class="params">(<span class="keyword">int</span> currentRow, <span class="keyword">int</span> currentColumn, <span class="keyword">int</span> previousRow, <span class="keyword">int</span> previousColumn)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   QTableWidgetItem *item = ui-&gt;tableInfo-&gt;item(currentRow,currentColumn);</span><br><span class="line">   <span class="keyword">if</span>(item == <span class="literal">NULL</span>)&#123;</span><br><span class="line">       <span class="keyword">return</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   labCellIndex-&gt;setText(QString::asprintf(<span class="string">&quot;当前单元格坐标：%d行，%d列&quot;</span>,currentRow,currentColumn));</span><br><span class="line">   <span class="keyword">int</span> cellType = item-&gt;type();</span><br><span class="line">   labCellType-&gt;setText(QString::asprintf(<span class="string">&quot;当前单元格类型：%d&quot;</span>,cellType));</span><br><span class="line">   item = ui-&gt;tableInfo-&gt;item(currentRow,MainWindow::colName);</span><br><span class="line">   <span class="keyword">int</span> ID = item-&gt;data(Qt::UserRole).toInt();</span><br><span class="line">   labStudID-&gt;setText(QString::asprintf(<span class="string">&quot;学生ID：%d&quot;</span>,ID));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img data-src="https://files.catbox.moe/ys8bps.png" alt=""></p>
<ul>
<li><p>插入、添加、删除行</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//插入行</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_btnInsertRow_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> curRow = ui-&gt;tableInfo-&gt;currentRow();</span><br><span class="line">    ui-&gt;tableInfo-&gt;insertRow(curRow);</span><br><span class="line">    createItemsARow(curRow,<span class="string">&quot;新生&quot;</span>,<span class="string">&quot;男&quot;</span>,QDate::fromString(<span class="string">&quot;1992-2-2&quot;</span>,<span class="string">&quot;yyyy-M-d&quot;</span>),<span class="string">&quot;苗族&quot;</span>,<span class="literal">true</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加行</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_btnAppendRow_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> curRow = ui-&gt;tableInfo-&gt;rowCount();</span><br><span class="line">    ui-&gt;tableInfo-&gt;insertRow(curRow);</span><br><span class="line">    createItemsARow(curRow,<span class="string">&quot;新生&quot;</span>,<span class="string">&quot;女&quot;</span>,QDate::fromString(<span class="string">&quot;1994-2-3&quot;</span>,<span class="string">&quot;yyyy-M-d&quot;</span>),<span class="string">&quot;满族&quot;</span>,<span class="literal">true</span>,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除当前行</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_btnDelCurRow_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> curRow = ui-&gt;tableInfo-&gt;currentRow();</span><br><span class="line">    ui-&gt;tableInfo-&gt;removeRow(curRow);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>自动调整行高和列宽</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_autoAdRowH_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> row = ui-&gt;tableInfo-&gt;currentRow();</span><br><span class="line">    qDebug() &lt;&lt; row;</span><br><span class="line">    <span class="keyword">if</span>(row == <span class="number">-1</span>)&#123;</span><br><span class="line">        ui-&gt;tableInfo-&gt;resizeRowsToContents();</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (row &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">        ui-&gt;tableInfo-&gt;resizeRowToContents(row);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_autoAdColH_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> row = ui-&gt;tableInfo-&gt;currentRow();</span><br><span class="line">    <span class="keyword">if</span>(row == <span class="number">-1</span>)&#123;</span><br><span class="line">        ui-&gt;tableInfo-&gt;resizeColumnsToContents();</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (row &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">        ui-&gt;tableInfo-&gt;resizeColumnToContents(row);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/06/165854ahJWW2.png" alt=""></p>
</li>
<li><p>其他属性</p>
<ul>
<li><p>设置表格内容是否可编辑</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/06/170057e4aLh4.png" alt=""></p>
</li>
<li><p>设置行表头、列表头是否显示</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/06/170201islhNr.png" alt=""></p>
</li>
<li><p>间隔行底色</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/06/170239m5aLVn.png" alt=""></p>
</li>
<li><p>选择模式</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/12/06/1703151wctFZ.png" alt=""></p>
</li>
</ul>
</li>
<li><p>遍历表格读取数据</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_btnReadToEdit_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString str;</span><br><span class="line">    QTableWidgetItem *cellItem;</span><br><span class="line">    ui-&gt;textEdit-&gt;clear();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i&lt; ui-&gt;tableInfo-&gt;rowCount();i++) &#123;</span><br><span class="line">        str = QString::asprintf(<span class="string">&quot;第 %d 行&quot;</span>,i + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; ui-&gt;tableInfo-&gt;columnCount() <span class="number">-1</span>; j++) &#123;</span><br><span class="line">            cellItem = ui-&gt;tableInfo-&gt;item(i,j);</span><br><span class="line">            str = str + cellItem-&gt;text() + <span class="string">&quot;  &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cellItem = ui-&gt;tableInfo-&gt;item(i,colPartyM);</span><br><span class="line">        <span class="keyword">if</span>(cellItem-&gt;checkState() == Qt::Checked)&#123;</span><br><span class="line">            str = str + <span class="string">&quot;党员&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            str = str + <span class="string">&quot;群众&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ui-&gt;textEdit-&gt;appendPlainText(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​</p>
</li>
</ul>

      
    </div>
   <div>
        
    </div>

   
    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>

  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xuemingde.com/posts/NHRPJF.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpeg">
      <meta itemprop="name" content="meadel">
      <meta itemprop="description" content="我的愿望，世界和平">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Middle's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/NHRPJF.html" class="post-title-link" itemprop="url">计算机中整数的加减运算</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-11-12 00:00:00" itemprop="dateCreated datePublished" datetime="2022-11-12T00:00:00+08:00">2022-11-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-24 14:56:16" itemprop="dateModified" datetime="2022-11-24T14:56:16+08:00">2022-11-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C-C/" itemprop="url" rel="index"><span itemprop="name">C&C++</span></a>
                </span>
            </span>

          
            <span id="/posts/NHRPJF.html" class="post-meta-item leancloud_visitors" data-flag-title="计算机中整数的加减运算" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/NHRPJF.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/NHRPJF.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="原码"><a href="#原码" class="headerlink" title="原码"></a>原码</h1><blockquote>
<p>原码：<strong>是最简单的机器数表示法，用最高位表示符号位（0正 1负），其他位存放该数的二进制的绝对值</strong>。</p>
</blockquote>
<p>以带符号位的四位二进制数为例：1010，最高位为1表示这是一个负数，其它三位010，即0 <em> 2^2 + 1 </em> 2^1 + 0 * 2^0 = 2，所以1010表示十进制数-2。</p>
<p><strong>9</strong> 在8位二进制的表示为：00001001</p>
<p><strong>-9</strong> 在8位二进制的表示为：10001001</p>
<p><strong>这样用8个bit表示整数的取值范围是-27-1~27-1，即-127~127。</strong></p>
<p>采用这种表示法，计算机做加法运算需要处理以下逻辑：</p>
<ol>
<li>如果两数符号位相同，就把它们的低7位相加，符号位不变。如果低7位相加时在最高位产生进位，说明结果的绝对值大于127，超出7位所能表示的数值范围，这称为溢出（Overflow)，这时通常把计算机中的一个标志位置1表示当前运算产生了溢出。</li>
<li>如果两数符号位不同，首先比较它们的低7位谁大，然后用大数减小数，结果的符号位和大数相同。</li>
</ol>
<p>那么减法如何计算呢？由于我们规定了负数的表示，可以把减法转换成加法来计算，要计算a-b，可以先把b变号然后和a相加，相当于计算a+(-b)。但如果两个加数的符号位不同就要用大数的绝对值减小数的绝对值，这一步减法计算仍然是免不了的。我们知道加法要进位，减法要借位，计算过程是不同的，所以除了要有第 1 节 “为什么计算机用二进制计数”提到的加法器电路之外，还要另外有一套减法器电路。</p>
<p>如果采用Sign and Magnitude（符号和大小）表示法，计算机做加减运算需要处理很多逻辑：比较符号位，比较绝对值，加法改减法，减法改加法，小数减大数改成大数减小数……这是非常低效率的。还有一个缺点是0的表示不唯一，既可以表示成10000000也可以表示成00000000，这进一步增加了逻辑的复杂性，所以我们迫切需要重新设计整数的表示方法使计算过程更简单。</p>
<p>原码的表示法很简单，虽然出现了+0和-0，但是直观易懂。于是开始运算——</p>
<blockquote>
<p>​       0001+0010=0011，1+2=3；<br>​       0000+1000=1000，+0+(-0)=-0；<br>​       0001+1001=1010，1+(-1)=-2。（错误）</p>
</blockquote>
<p>​   于是可以看到其实正数之间的加法通常是不会出错的，因为它就是一个很简单的二进制加法，而正数与负数相加，或负数与负数相加，就要引起莫名其妙的结果，这都是符号位引起的。0分为+0和-0也是因它而起。</p>
<p><strong>原码的特点：</strong></p>
<ol>
<li>原码表示直观、易懂，与真值转换容易。</li>
<li>原码中0有两种不同的表示形式，给使用带来了不便。</li>
</ol>
<blockquote>
<p>​       通常0的原码用+0表示，若在计算过程中出现了-0，则需要用硬件将-0变成+0。</p>
</blockquote>
<ol>
<li>原码表示加减运算复杂。</li>
</ol>
<blockquote>
<p>​       利用原码进行两数相加运算时，首先要判别两数符号，若同号则做加法，若异号则做减法。在利用原码进行两数相减运算时，不仅要判别两数符号，使得同号相减，异号相加；还要判别两数绝对值的大小，用绝对值大的数减去绝对值小的数，取绝对值大的数的符号为结果的符号。可见，原码表示不便于实现加减运算。</p>
</blockquote>
<h1 id="反码"><a href="#反码" class="headerlink" title="反码"></a>反码</h1><blockquote>
<p>反码：<strong>正数的反码还是等于原码；负数的反码就是它的原码除符号位外，按位取反</strong>。</p>
</blockquote>
<p><strong>9</strong> 在8位二进制的原码表示为：10001001，反码为10001001 （正数的反码还是等于原码）</p>
<p><strong>-9</strong> 在8位二进制的原码表示为：10001001，反码为11110110  (负数的反码就是它的原码除符号位外，按位取反)</p>
<p> 再试着用反码的方式解决一下原码的问题——</p>
<blockquote>
<p>​       0001+1110=1111，1+(-1)=-0；<br>​       1110+1100=1010，(-1)+(-3)=-5。</p>
</blockquote>
<p>互为相反数相加等于0，虽然的到的结果是1111也就是-0。但是两个负数相加的出错了。</p>
<p> 反码的特点</p>
<ol>
<li>在反码表示中，用符号位表示数值的正负，形式与原码表示相同，即0为正；1为负。</li>
<li>在反码表示中，数值0有两种表示方法。</li>
<li>反码的表示范围与原码的表示范围相同。</li>
</ol>
<p><strong>反码表示在计算机中往往作为数码变换的中间环节。并不会直接参与结算</strong></p>
<h1 id="补码"><a href="#补码" class="headerlink" title="补码"></a>补码</h1><blockquote>
<p>补码：<strong>正数的补码等于它的原码；负数的补码等于反码+1</strong>（这只是一种算补码的方式，多数书对于补码就是这句话）。</p>
</blockquote>
<p><strong>9</strong> 在8位二进制的原码表示为：10001001,反码为10001001,<strong>补码为10001001</strong> （不变）</p>
<p><strong>-9</strong> 在8位二进制的原码表示为：10001001，反码为11110110 ,<strong>补码为11110111</strong> </p>
<blockquote>
<p>其实负数的补码等于反码+1只是补码的求法，而不是补码的定义，很多人以为求补码就要先求反码，其实并不是，那些计算机学家并不会心血来潮的把反码+1就定义为补码，只不过补码正好就等于反码+1而已。</p>
<p>如果有兴趣了解补码的严格说法，建议可以看一下《计算机组成原理》，它会用“模”和“同余”的概念，严谨地解释补码。</p>
</blockquote>
<p>综上所述，正数的源码、反码、补码都是不变的，负数的反码、补码与源码都是不一致的，所以在计算时，只有负数需要进行反码或者补码。</p>
<h1 id="两个正数的加法运算"><a href="#两个正数的加法运算" class="headerlink" title="两个正数的加法运算"></a>两个正数的加法运算</h1><p>示例：16 + 5</p>
<p>16的补码：00010000</p>
<p>5的补码：  00000101</p>
<p>加法运算：00010000 + 00000101 = 00010101</p>
<p>00010101的十进制是：21  —&gt;16 + 5=21</p>
<p>8bit的正数的最大值为：01111111，转为十进制为127。当进行两个正数加法运算时，可能会出现溢出的情况。</p>
<p>126的二进制为01111110</p>
<p>2的二进制为00000010</p>
<p>01111110 + 00000010 = 10000000</p>
<p>最高变成了1，就说明产生了溢出。</p>
<p>所以，两个正数相加时，如果最高为变成了1，就说明了产生了溢出。</p>
<h1 id="一正一负的运算"><a href="#一正一负的运算" class="headerlink" title="一正一负的运算"></a>一正一负的运算</h1><p><strong>示例1</strong></p>
<p>16 - 9 也可看做是16 + （-9）</p>
<p>16的补码为：00010000</p>
<p>-9的补码为11110111</p>
<p>00010000 + 11110111 = 100000111</p>
<p>100000111超出了8位，需要去除一位，就去除最高位的1，就成了00000111，00000111的十进制为7</p>
<p>所谓16 - 9 = 7</p>
<p><strong>示例二</strong></p>
<p>5-9，可看做是5 + （-9）</p>
<p>5的补码为：00000101</p>
<p>-9的补码为：11110111</p>
<p>00000101 + 11110111 = 11111100</p>
<p>11111100为-4的补码，即5-9=-4</p>
<p>根据上述，可以看出，无论是正数的加法运算，还是正负数的加法运算，其实是对他们的补码进行运算。</p>
<p>如何判断产生了溢出呢？我们还是分四种情况讨论：如果两个正数相加溢出，结果一定是负数；如果两个负数相加溢出，结果一定是正数；一正一负相加，无论结果是正是负都不可能溢出。</p>
<p><img data-src="https://xuemingde.com/pages/image/2022/11/15/101025bQWtrl.png" alt=""></p>
<p>从上图可以得出结论：<em>在相加过程中最高位产生的进位和次高位产生的进位如果相同则没有溢出，如果不同则表示有溢出</em>。逻辑电路的实现可以把这两个进位连接到一个异或门，把异或门的输出连接到溢出标志位。</p>

      
    </div>
   <div>
        
    </div>

   
    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>

  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xuemingde.com/posts/3GHHYS4.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpeg">
      <meta itemprop="name" content="meadel">
      <meta itemprop="description" content="我的愿望，世界和平">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Middle's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/3GHHYS4.html" class="post-title-link" itemprop="url">Qt&C++面试题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-11-11 00:00:00" itemprop="dateCreated datePublished" datetime="2022-11-11T00:00:00+08:00">2022-11-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-04-13 11:14:24" itemprop="dateModified" datetime="2023-04-13T11:14:24+08:00">2023-04-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">嵌入式</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/Qt/" itemprop="url" rel="index"><span itemprop="name">Qt</span></a>
                </span>
            </span>

          
            <span id="/posts/3GHHYS4.html" class="post-meta-item leancloud_visitors" data-flag-title="Qt&C++面试题" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/3GHHYS4.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/3GHHYS4.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>9.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Qt"><a href="#Qt" class="headerlink" title="Qt"></a>Qt</h2><h3 id="自定义控件"><a href="#自定义控件" class="headerlink" title="自定义控件"></a>自定义控件</h3><p>应该做过吧？能举几个例子吗？还有其他的吗？</p>
<p>你觉得自定义控件的方法主要是哪些？</p>
<p>答：从外观设计上：QSS、继承绘制函数重绘、继承QStyle相关类重绘、组合拼装等等</p>
<p>从功能行为上：重写事件函数、添加或者修改信号和槽等等</p>
<h3 id="QSS"><a href="#QSS" class="headerlink" title="QSS"></a>QSS</h3><p>QSS平时使用的多吗？能举几个例子吗？</p>
<p>都是如何使用，能说说吗？</p>
<p>答：1.将QSS统一写在一个文件中，通过程序给主窗口加载；</p>
<p>2.写成一个字符串中，通过程序给主窗口加载；</p>
<p>3.需要使用的地方，写一个字符串，加载给对象；</p>
<p>4.QT Designer中填写；</p>
<h3 id="事件机制："><a href="#事件机制：" class="headerlink" title="事件机制："></a>事件机制：</h3><p><strong>QT程序是事件驱动的，事件到处都可以遇到。能说说平时经常使用到哪些事件吗？</strong></p>
<p>常见的QT事件类型如下:</p>
<p> <strong>键盘事件</strong>: 按键按下和松开    <strong>鼠标事件</strong>: 鼠标移动,鼠标按键的按下和松开</p>
<p> <strong>拖放事件</strong>: 用鼠标进行拖放    <strong>滚轮事件:</strong> 鼠标滚轮滚动</p>
<p> <strong>绘屏事件</strong>: 重绘屏幕的某些部分    <strong>定时事件</strong>: 定时器到时</p>
<p> <strong>焦点事件</strong>: 键盘焦点移动   <strong>进入和离开事件</strong>: 鼠标移入widget之内,或是移出</p>
<p> <strong>移动事件</strong>: widget的位置改变    <strong>大小改变事件</strong>: widget的大小改变</p>
<p> <strong>显示和隐藏事件</strong>: widget显示和隐藏    <strong>窗口事件</strong>: 窗口是否为当前窗口</p>
<h3 id="知道QT事件机制有几种级别的事件过滤吗？能大致描述下吗？"><a href="#知道QT事件机制有几种级别的事件过滤吗？能大致描述下吗？" class="headerlink" title="知道QT事件机制有几种级别的事件过滤吗？能大致描述下吗？"></a><strong>知道QT事件机制有几种级别的事件过滤吗？能大致描述下吗？</strong></h3><p>答：根据对Qt事件机制的分析, 我们可以得到5种级别的事件过滤,处理办法. 以功能从弱到强, 排列如下:</p>
<p>1）重载特定事件处理函数.</p>
<p>最常见的事件处理办法就是重载象mousePressEvent(), keyPressEvent(), paintEvent() 这样的特定事件处理函数.</p>
<p>2）重载event()函数.</p>
<p>通过重载event()函数,我们可以在事件被特定的事件处理函数处理之前(象keyPressEvent())处理它. 比如, 当我们想改变tab键的默认动作时,一般要重载这个函数. 在处理一些不常见的事件(比如:LayoutDirectionChange)时,evnet()也很有用,因为这些函数没有相应的特定事件处理函数. 当我们重载event()函数时, 需要调用父类的event()函数来处理我们不需要处理或是不清楚如何处理的事件.</p>
<p>3） 在Qt对象上安装事件过滤器.</p>
<p>安装事件过滤器有两个步骤: (假设要用A来监视过滤B的事件)</p>
<p>首先调用B的installEventFilter( const QOject *obj ), 以A的指针作为参数. 这样所有发往B的事件都将先由A的eventFilter()处理.</p>
<p>然后, A要重载QObject::eventFilter()函数, 在eventFilter() 中书写对事件进行处理的代码.</p>
<p>4） 给QAppliction对象安装事件过滤器.</p>
<p>一旦我们给qApp(每个程序中唯一的QApplication对象)装上过滤器,那么所有的事件在发往任何其他的过滤器时,都要先经过当前这个 eventFilter(). 在debug的时候,这个办法就非常有用, 也常常被用来处理失效了的widget的鼠标事件,通常这些事件会被QApplication::notify()丢掉. ( 在QApplication::notify() 中, 是先调用qApp的过滤器, 再对事件进行分析, 以决定是否合并或丢弃)</p>
<p>5） 继承QApplication类,并重载notify()函数.</p>
<p>Qt 是用QApplication::notify()函数来分发事件的.想要在任何事件过滤器查看任何事件之前先得到这些事件,重载这个函数是唯一的办法. 通常来说事件过滤器更好用一些, 因为不需要去继承QApplication类. 而且可以给QApplication对象安装任意个数的事件。</p>
<h3 id="QT版本："><a href="#QT版本：" class="headerlink" title="QT版本："></a><strong>QT版本：</strong></h3><p>请问使用的QT版本是？有没有使用过QT4？QT5的信号槽与QT4相比有什么改进？</p>
<p>答：</p>
<ul>
<li>编译期：检查信号与槽是否存在，参数类型检查，Q_OBJECT是否存在</li>
</ul>
<ul>
<li>信号可以和普通的函数、类的普通成员函数、lambda函数连接（而不再局限于信号函数和槽函数）</li>
<li>参数可以是 typedef 的或使用不同的namespace specifier</li>
<li>可以允许一些自动的类型转换（即信号和槽参数类型不必完全匹配）</li>
</ul>
<h3 id="信号槽机制："><a href="#信号槽机制：" class="headerlink" title="信号槽机制："></a><strong>信号槽机制：</strong></h3><p>能说下你的理解吗？</p>
<p>能用什么方法替代？槽函数可以是虚函数吗？</p>
<p>答：回调函数。可以。</p>
<h3 id="信号槽同步与异步："><a href="#信号槽同步与异步：" class="headerlink" title="信号槽同步与异步："></a><strong>信号槽同步与异步：</strong></h3><p>信号槽是同步的还是异步的？分别如何实现？</p>
<p>答：通常使用的connect，实际上最后一个参数使用的是Qt::AutoConnection类型：Qt支持6种连接方式，其中3中最主要:</p>
<p>1.Qt::DirectConnection（直连方式）（信号与槽函数关系类似于函数调用，同步执行）</p>
<p>  当信号发出后，相应的槽函数将立即被调用。emit语句后的代码将在所有槽函数执行完毕后被执行。</p>
<p>2.Qt::QueuedConnection（排队方式）（此时信号被塞到信号队列里了，信号与槽函数关系类似于消息通信，异步执行）</p>
<p>  当信号发出后，排队到信号队列中，需等到接收对象所属线程的事件循环取得控制权时才取得该信号，调用相应的槽函数。emit语句后的代码将在发出信号后立即被执行，无需等待槽函数执行完毕。</p>
<p>3.Qt::AutoConnection（自动方式）</p>
<p>  Qt的默认连接方式，如果信号的发出和接收这个信号的对象同属一个线程，那个工作方式与直连方式相同；否则工作方式与排队方式相同。</p>
<p>4.Qt::BlockingQueuedConnection(信号和槽必须在不同的线程中，否则就产生死锁)</p>
<p>  这个是完全同步队列只有槽线程执行完成才会返回，否则发送线程也会一直等待，相当于是不同的线程可以同步起来执行。</p>
<p>5.Qt::UniqueConnection</p>
<p>  与默认工作方式相同，只是不能重复连接相同的信号和槽，因为如果重复连接就会导致一个信号发出，对应槽函数就会执行多次。</p>
<p>6.Qt::AutoCompatConnection</p>
<p>  是为了连接Qt4与Qt3的信号槽机制兼容方式，工作方式与Qt::AutoConnection一样。</p>
<h3 id="如果这个参数不设置的话，默认表示的是那种方式呢？"><a href="#如果这个参数不设置的话，默认表示的是那种方式呢？" class="headerlink" title="如果这个参数不设置的话，默认表示的是那种方式呢？"></a><strong>如果这个参数不设置的话，默认表示的是那种方式呢？</strong></h3><p>  没加的话与直连方式相同：当信号发出后，相应的槽函数将立即被调用。emit语句后的代码将在所有槽函数执行完毕后被执行。在这个线程内是顺序执行、同步的，但是与其它线程之间肯定是异步的了。如果使用多线程，仍然需要手动同步。</p>
<p><strong>多线程：</strong></p>
<p>多线程使用的多吗？能简单说说吗？QT多线程有两种方法实现。</p>
<h3 id="知道死锁吗？死锁是如何产生的？"><a href="#知道死锁吗？死锁是如何产生的？" class="headerlink" title="知道死锁吗？死锁是如何产生的？"></a><strong>知道死锁吗？死锁是如何产生的？</strong></h3><p>答：死锁的产生有如下四个必要条件</p>
<p>1.　资源是互斥的,同一时刻只能有一个进程占有该资源</p>
<p>2.　资源的释放只能有该进程自己完成</p>
<p>3.　线程在获取到需要资源之前,不会释放已有资源</p>
<p>4.　存在这么一条循环等待的队列,线程T1,T2,T3…, Tn</p>
<p>T1持有自己的资源请求T2的资源,….Tn持有自己的资源请求T1的资源</p>
<h3 id="线程同步的方法有哪些？"><a href="#线程同步的方法有哪些？" class="headerlink" title="线程同步的方法有哪些？"></a><strong>线程同步的方法有哪些？</strong></h3><p>答：</p>
<ol>
<li>互斥量（QMutex）</li>
</ol>
<p>​       QMutex m_Mutex;        m_Mutex.lock();        m_Mutex.unlock();</p>
<ol>
<li>互斥锁（QMutexLocker）</li>
</ol>
<p>​        QMutexLocker mutexLocker(&amp;m_Mutex);</p>
<p>​        从声明处开始（在构造函数中加锁），出了作用域自动解锁（在析构函数中解锁）。</p>
<ol>
<li>等待条件（QWaitCondition）</li>
</ol>
<p>QWaitCondtion m_WaitCondition; m_WaitConditon.wait(&amp;m_muxtex, time);                 </p>
<p>m_WaitCondition.wakeAll();</p>
<ol>
<li>QReadWriteLock类</li>
</ol>
<p>》一个线程试图对一个加了读锁的互斥量进行上读锁，允许；</p>
<p>》一个线程试图对一个加了读锁的互斥量进行上写锁，阻塞；</p>
<p>》一个线程试图对一个加了写锁的互斥量进行上读锁，阻塞；、</p>
<p>》一个线程试图对一个加了写锁的互斥量进行上写锁，阻塞。</p>
<p>读写锁比较适用的情况是：需要多次对共享的数据进行读操作的阅读线程。</p>
<p>QReadWriterLock 与QMutex相似，除了它对 “read”,”write”访问进行区别对待。它使得多个读者可以共时访问数据。使用QReadWriteLock而不是QMutex，可以使得多线程程序更具有并发性。</p>
<ol>
<li>信号量QSemaphore</li>
</ol>
<p>但是还有些互斥量（资源）的数量并不止一个，比如一个电脑安装了2个打印机，我已经申请了一个，但是我不能霸占这两个，你来访问的时候如果发现还有空闲的仍然可以申请到的。于是这个互斥量可以分为两部分，已使用和未使用。</p>
<ol>
<li>QReadLocker便利类和QWriteLocker便利类对QReadWriteLock进行加解锁</li>
</ol>
<h3 id="设计模式："><a href="#设计模式：" class="headerlink" title="设计模式："></a><strong>设计模式：</strong></h3><p>设计模式平时有使用到吗？能不能说下常见的设计模式有哪些？能不能说说大致的概念？能不能具体说下工作中如何使用的？</p>
<p>答：总体来说设计模式分为三大类：</p>
<p><strong>创建型模式，共五种</strong>：<strong>工厂方法模式、抽象工厂模式、单例模式</strong>、建造者模式、原型模式。</p>
<p><strong>结构型模式，共七种</strong>：<strong>适配器模式</strong>、装饰器模式、代理模式、外观模式、桥接模式、组合模式、享元模式。</p>
<p><strong>行为型模式，共十一种</strong>：策略模式、模板方法模式、<strong>观察者模式</strong>、迭代子模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、<strong>中介者模式</strong>、解释器模式。</p>
<h3 id="动态库"><a href="#动态库" class="headerlink" title="动态库"></a><strong>动态库</strong></h3><p>工作中有没有使用过动态库和静态库？能不能简单说下两者的区别？</p>
<p>答：静态库：在链接阶段将汇编生成的目标文件.o与引用库一起链接打包到可执行文件中，可简单看成（.o或者.obj文件的集合）。（1）对函数库的链接是放在编译时期完成的（2）程序在运行时与函数库没有瓜葛，移植方便（3）浪费空间和资源</p>
<p>动态库：（1）将库函数的链接载入推迟到程序运行时期（2）可以实现进程间的资源共享（因此也称为共享库）（3）将一些程序升级变得简单（4）可以真正的做到链接载入完全由程序员在程序代码中控制（显示调用）</p>
<h3 id="动态库一般也会有个lib文件，那么和静态库lib文件有什么区别？"><a href="#动态库一般也会有个lib文件，那么和静态库lib文件有什么区别？" class="headerlink" title="动态库一般也会有个lib文件，那么和静态库lib文件有什么区别？"></a><strong>动态库一般也会有个lib文件，那么和静态库lib文件有什么区别？</strong></h3><p>动态库中的.lib文件叫做导入库，对于导入库而言，其实际的执行代码位于动态库中，导入库只包含了地址符号表等，确保程序找到对应函数的一些基本地址信息。</p>
<p>　　静态库中的.lib叫做静态库，本身就包含了实际执行代码、符号表等等</p>
<h3 id="TCP-UDP-HTTP-S-："><a href="#TCP-UDP-HTTP-S-：" class="headerlink" title="TCP/UDP/HTTP(S)："></a><strong>TCP/UDP/HTTP(S)：</strong></h3><p>TCP/UDP有使用过吗？能结合工作具体说说吗？</p>
<p>HTTP协议有使用过吗？QT5中使用的相关联的主要的几个类？</p>
<p>答：QNetworkAccessManager/QNetworkRequest/QNetworkReply。</p>
<h3 id="算法："><a href="#算法：" class="headerlink" title="算法："></a><strong>算法：</strong></h3><p>平时使用算法比较多吗？能简单说下快排的思想吗？时间复杂度是多少？</p>
<p>答：基本思想是：通过一趟排序将要排序的数据分割成独立的两部分，其中一部分的所有数据都比另外一部分的所有数据都要小，然后再按此方法对这两部分数据分别进行快速排序，整个排序过程可以递归进行，以此达到整个数据变成有序序列。</p>
<p>时间复杂度：平均为O(nlogn)，最好为O(nlogn)，最差为O(logn2)</p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/solution/database?from=20065&amp;from_column=20065"><strong>数据库</strong></a><strong>：</strong></p>
<p>工作中有使用数据库吗？MySql使用多吗？</p>
<h3 id="串口通讯："><a href="#串口通讯：" class="headerlink" title="串口通讯："></a><strong>串口通讯：</strong></h3><p>有使用到串口通讯吗？能简单说下具体应用吗？</p>
<h3 id="SVN-Git"><a href="#SVN-Git" class="headerlink" title="SVN/Git:"></a><strong>SVN/Git:</strong></h3><p>平时团队或者公司是如何管理代码的？使用什么工具？</p>
<p><strong>定位问题：</strong></p>
<p>请问下，如果软件除了问题（Bug），如何快速定位？主要方法有哪些？</p>
<p>答：打印输出/代码调试/日志记录/分析工具/找同事讨论。</p>
<p>1、二分法定位技巧</p>
<p>无论是有多复杂的代码，利用二分法定位技巧一般都是可以定位到问题所在。</p>
<p>从二分法定位技巧可以延伸出一些具体的处理bug的方法，比如：对输入数据二分、对代码版本二分、注释掉部分代码、在不同位置插入试探性代码、对运行环境二分。</p>
<p>2、IDE调试</p>
<p>IDE的VS debug的功能简直就是立竿见影。它可以加断点，单步调试。</p>
<p>单步调试可以让我们对代码逻辑，执行顺序，以及各种中间结果更加清晰。</p>
<p>至于本身容易出错的BUG，用IDE调试简直是再合适不过了。</p>
<p>3、重新读一遍程序</p>
<p>相对新手程序员来说，如果代码出现bug，可以重新读一遍程序。这种方法是最有效、最快速的 Debug 方式。</p>
<p>4、必杀，重写一遍</p>
<p>如果你发现无论如何也找不到BUG，而且代码只是复杂，本身不是很长，直接重写代码吧!</p>
<p>5、小黄鸭调试法</p>
<p>小黄鸭调试法是程序员们经常使用的调试代码方法之一。</p>
<p>小黄鸭不懂程序，所以我们可以向他解释每一行程序的作用，以此来激发灵感。</p>
<h3 id="IDE-集成开发环境"><a href="#IDE-集成开发环境" class="headerlink" title="IDE(集成开发环境):"></a><strong>IDE(集成开发环境):</strong></h3><p>Windows系统主流IDE：QT Creator、Visual Studio等</p>
<p>Mac系统主流：XCode等</p>
<p>问题：平时主要使用的IDE是什么？有没有做过QT跨平台？</p>
<h3 id="引用和指针有何区别："><a href="#引用和指针有何区别：" class="headerlink" title="引用和指针有何区别："></a><strong>引用和指针有何区别：</strong></h3><p>1.指针是一个对象，而引用仅是一个对象的别名</p>
<p>2.引用使用时无需解引用，指针需要</p>
<p>3.引用只能在定义时初始化一次，而指针可变</p>
<p>4.引用不能为空，指针可以为空</p>
<p>5.有多级指针没有多级引用</p>
<p>6.不会为引用变量开辟内存空间，它和它引用的变量共用一块内存空间，指针会开辟内存空间</p>
<p>7.引用自加改变引用值的内容，指针自加改变指针的指向</p>
<p>8.sizeof含义不同，引用结果为引用类型的大小，指针始终是地址空间所占大小</p>
<p>9.引用比指针使用起来相对更安全</p>
<h3 id="虚函数"><a href="#虚函数" class="headerlink" title="虚函数"></a><strong>虚函数</strong></h3><p>什么情况下使用虚函数？和纯虚函数有什么区别？虚析构函数的作用是什么？（虚函数表）</p>
<p>答：虚函数的主要作用是“<strong>运行时多态</strong>”。虚析构函数的作用在于使用delete删除一个对象时，能确保析构函数被正确的执行。</p>
<p>区别：</p>
<ol>
<li>虚函数和纯虚函数可以定义在同一个类(class)中，含有纯虚函数的类被称为抽象类(abstract class)，而只含有虚函数的类(class)不能被称为抽象类(abstract class)。</li>
<li>虚函数可以被直接使用，也可以被子类(sub class)重载以后以多态的形式调用，而纯虚函数必须在子类(sub class)中实现该函数才可以使用，因为纯虚函数在基类(base class)只有声明而没有定义。</li>
<li>虚函数和纯虚函数都可以在子类(sub class)中被重载，以多态的形式被调用。</li>
<li>虚函数和纯虚函数通常存在于抽象基类(abstract base class -ABC)之中，被继承的子类重载，目的是提供一个统一的接口。</li>
<li>虚函数的定义形式：virtual {method body}</li>
</ol>
<p>纯虚函数的定义形式：virtual { } = 0;</p>
<p>   在虚函数和纯虚函数的定义中不能有static标识符，原因很简单，被static修饰的函数在编译时候要求前期bind,然而虚函数却是动态绑定(run-time bind)，而且被两者修饰的函数生命周期(life recycle)也不一样。</p>
<ol>
<li><p>虚函数必须实现，如果不实现，编译器将报错，错误提示为：</p>
<p>error LNK<em>**</em>: unresolved external symbol “public: virtual void __thiscall</p>
<p>ClassName::virtualFunctionName(void)”</p>
</li>
<li><p>对于虚函数来说，父类和子类都有各自的版本。由多态方式调用的时候动态绑定。</p>
</li>
<li><p>实现了纯虚函数的子类，该纯虚函数在子类中就编程了虚函数，子类的子类即孙子类可以覆盖</p>
<p>该虚函数，由多态方式调用的时候动态绑定。</p>
</li>
<li><p>虚函数是C++中用于实现多态(polymorphism)的机制。核心理念就是通过基类访问派生类定义的</p>
<p>函数。</p>
</li>
<li><p>多态性指相同对象收到不同消息或不同对象收到相同消息时产生不同的实现动作。C++支持两种多态性：编译时多态性，运行时多态性。</p>
<p>a.编译时多态性：通过重载函数实现</p>
<p>b 运行时多态性：通过虚函数实现。</p>
</li>
<li><p>如果一个类中含有纯虚函数，那么任何试图对该类进行实例化的语句都将导致错误的产生，因为抽象基类(ABC)是不能被直接调用的。必须被子类继承重载以后，根据要求调用其子类的方法。</p>
</li>
</ol>
<pre><code>1.Qt创建线程的方式有哪些 
2.信号槽实现原理
3.Qt的消息传输机制
4.QML和C++的交互方式
5.如何在C++中定义model并在qml中使用
6.moveToThread的优缺点
7.Qt中的http是同步还是异步，如何实现同步
8.Qt的信号槽是线程安全的吗，Qt信号的连接方式？

Qt 支持这些信号槽连接类型：
AutoConnection：自动连接（默认）如果信号在接收对象具有亲和性的线程中发出，则行为与直接连接相同。否则，行为与排队连接相同。
DirectConnection：直接连接，发出信号时立即调用槽。槽在发射器的线程中执行，不一定是接收器的线程。
Queued Connection：当控制返回到接收者线程的事件循环时调用该槽。插槽在接收者的线程中执行。
BlockingQueuedConnection：与 Queued Connection 一样调用槽，除了当前线程阻塞，直到槽返回。
注意：使用该类型连接同一线程中的对象会导致死锁。
UniqueConnection：唯一连接行为 与自动连接相同，但只有在不复制现有连接时才会建立连接。即，如果相同的信号已经连接到同一对对象的相同槽，则不建立连接并且connect()返回false。

可以通过将附加参数传递给connect()来指定连接类型。请注意，如果事件循环在接收者的线程中运行，则在发送者和接收者位于不同线程中时使用直接连接是不安全的，原因与调用位于另一个线程中的对象上的任何函数是不安全的原因相同。

QObject::connect () 本身是线程安全的。

9.元对象系统介绍
10.QPixmap和QImage的区别 参考这里
11.Qt跨平台的优缺点
</code></pre><h2 id="C-基础篇"><a href="#C-基础篇" class="headerlink" title="C++基础篇"></a>C++基础篇</h2><ul>
<li><p>1.线程同步的方式有哪些</p>
</li>
<li><p>2.线程间通信如何实现</p>
</li>
<li><p>3.进程间通信如何实现 参考这里</p>
</li>
<li><p>4.IO模型用过哪些</p>
</li>
<li><p>5.IO实现的方式有哪些</p>
</li>
<li><p>6.用过哪些STL</p>
</li>
<li><p>7.迭代器失效怎么产生的，如何避免 参考这里</p>
</li>
<li><p>8.vector、list、map实现原理</p>
</li>
<li><p>9.如何实现多态</p>
</li>
<li><p>10.虚函数实现原理，虚函数表结构，对于菱形继承结构，虚函数表处理方式是什么</p>
</li>
<li><p>11.内存结构分配方式</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">C++ 内存分区：栈、堆、全局/静态存储区、常量存储区、代码区。</span><br><span class="line">1.栈：存放函数的局部变量、函数参数、返回地址等，由编译器自动分配和释放。</span><br><span class="line">2.堆：动态申请的内存空间，就是由 malloc 分配的内存块，由程序员控制它的分配和释放，如果程序执行结束还没有释放，操作系统会自动回收。</span><br><span class="line">3.全局区/静态存储区（<span class="string">.bss</span> 段和 <span class="string">.data</span> 段）：存放全局变量和静态变量，程序运行结束操作系统自动释放，在 C 语言中，未初始化的放在 <span class="string">.bss</span> 段中，初始化的放在 <span class="string">.data</span> 段中，C++ 中不再区分了。</span><br><span class="line">4.常量存储区（<span class="string">.data</span> 段）：存放的是常量，不允许修改，程序运行结束自动释放。</span><br><span class="line">5.代码区（<span class="string">.text</span> 段）：存放代码，不允许修改，但可以执行。编译后的二进制文件存放在这里。</span><br></pre></td></tr></table></figure>
<p>​</p>
</li>
</ul>
<p>12.malloc free 和new delete的区别，为什么不能malloc和delete混用，会产生什么问题</p>
<p>13.红黑树实现原理</p>
<p>14.查找算法有哪些</p>
<p>15.排序算法有哪些</p>
<p>16.快排实现原理，时间复杂度是多少</p>
<p>17.指针和引用的区别</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">指针有自己的一块空间，而引用只是一个别名</span><br><span class="line">指针的大小是<span class="number">4</span>，引用则是被引用对象的大小</span><br><span class="line">指针可以被初始化为<span class="literal">NULL</span>，而引用必须被初始化且必须是一个已有对象的引用</span><br><span class="line">作为参数传递时，指针需要被解引用才可以对对象进行操作，而直接对应用的修改都会改变引用所指向的对象</span><br><span class="line">可以有<span class="keyword">const</span>指针，但没有<span class="keyword">const</span>引用</span><br><span class="line">指针在使用中可以指向其他对象，但是引用只能是一个对象的引用，不能被改变</span><br><span class="line">指针可以有多级指针（**p），而引用只有一级</span><br><span class="line">指针和引用使用++运算符的意义不一样</span><br><span class="line">如果返回动态内存分配的对象或者内存，必须使用指针，引用可能引起内存泄漏。</span><br></pre></td></tr></table></figure>
<p>18.const声明指针的问题</p>
<p>19.哪些运算符不能重载</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> . <span class="comment">(点运算符)</span>通常用于去对象的成员,但是-&gt;<span class="comment">(箭头运算符)</span>,是可以重载的</span><br><span class="line"><span class="number">2</span> ::<span class="comment">(域运算符)</span>即类名+域运算符,取成员,不可以重载</span><br><span class="line"><span class="number">3</span> .* <span class="comment">(点星运算符,)</span>不可以重载,成员指针运算符<span class="string">&quot;.*,即成员是指针类型</span></span><br><span class="line"><span class="string">4 ?: (条件运算符)不可以重载</span></span><br><span class="line"><span class="string">5 sizeof 不可以重载</span></span><br></pre></td></tr></table></figure>
<p>20.什么是线程安全</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">线程安全是多线程编程时的计算机程序代码中的一个概念。在拥有共享数据的多条线程并行执行的程序中，线程安全的代码会通过同步机制保证各个线程都可以正常且正确的执行，不会出现数据污染等意外情况。</span><br><span class="line"></span><br><span class="line">多个线程访问同一个对象时，如果不用考虑这些线程在运行时环境下的调度和交替执行，也不需要进行额外的同步，或者在调用方进行任何其他操作，调用这个对象的行为都可以获得正确的结果，那么这个对象就是线程安全的。</span><br><span class="line"></span><br><span class="line">线程安全问题大多是由全局变量及静态变量引起的，局部变量逃逸也可能导致线程安全问题。</span><br></pre></td></tr></table></figure>
<ul>
<li>21.C++11新特性用过哪些</li>
</ul>
<p>22.vector的C++新特性有哪些</p>
<p>23.讲讲右值引用与完美转发</p>
<p>24.对象池的使用及场景</p>
<p>25.线程池介绍，使用场景和实现原理</p>
<p>26.内存池使用场景和实现原理</p>
<p>27.C++的锁</p>
<p>28.Lambda表达式传递值有哪些方式，如何确定lambda的返回值 参考这里</p>
<p>29.智能指针介绍</p>
<p>30.shared_ptr相互引用的场景，如何解决</p>
<p>31.auto和decltype的区别</p>
<p>32.vector内存拷贝问题，什么情况下会出现内存拷贝，如何解决这个问题使其更加高效</p>
<p>33.vector中resize和reverse的区别</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reserve是容器预留空间，但并不真正创建元素对象，在创建对象之前，不能引用容器内的元素，因此当加入新的元素时，需要用push_back()/insert()函数。</span><br><span class="line"><span class="attribute">resize</span>是改变容器的大小，并且创建对象，因此，调用这个函数之后，就可以引用容器内的对象了，因此当加入新的元素时，用operator<span class="selector-attr">[]</span>操作符，或者用迭代器来引用元素对象。</span><br><span class="line">再者，两个函数的形式是有区别的，reserve函数之后一个参数，即需要预留的容器的空间；<span class="attribute">resize</span>函数可以有两个参数，第一个参数是容器新的大小，第二个参数是要加入容器中的新元素，如果这个参数被省略，那么就调用元素对象的默认构造函数。</span><br></pre></td></tr></table></figure>
<ul>
<li><p>34.内存泄露的情况</p>
</li>
<li><p>35.链表实现原理</p>
</li>
<li><p>36.动态库和静态库的区别</p>
</li>
<li><p>37.多线程在什么场景下使用</p>
</li>
<li><p>38.动态库导出的接口设计有哪些需要注意的。工作中有没有做过动态接口设计，如何考虑不同版本的兼容性。假如已经导出了接口给外部使用，并且该版本已经发布出去了，如果新增加了接口，那么如何保障已经发出去的版本能够调用到这个新的接口，如何设计这个兼容性问题。 参考这里</p>
</li>
<li><p>39.用过哪些设计模式，举例说明其原理 参考这里</p>
</li>
<li><p>40.堆和栈的区别</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.申请方式：栈是系统自动分配，堆是程序员主动申请。</span><br><span class="line">2.申请后系统响应：分配栈空间，如果剩余空间大于申请空间则分配成功，否则分配失败栈溢出；申请堆空间，堆在内存中呈现的方式类似于链表（记录空闲地址空间的链表），在链表上寻找第一个大于申请空间的节点分配给程序，将该节点从链表中删除，大多数系统中该块空间的首地址存放的是本次分配空间的大小，便于释放，将该块空间上的剩余空间再次连接在空闲链表上。</span><br><span class="line">3.栈在内存中是连续的一块空间（向低地址扩展）最大容量是系统预定好的，堆在内存中的空间（向高地址扩展）是不连续的。</span><br><span class="line">4.申请效率：栈是有系统自动分配，申请效率高，但程序员无法控制；堆是由程序员主动申请，效率低，使用起来方便但是容易产生碎片。</span><br><span class="line">5.存放的内容：栈中存放的是局部变量，函数的参数；堆中存放的内容由程序员控制。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>41.什么是二叉搜索树</p>
<blockquote>
<p>二叉搜索树，左子树的所有节点都小于当前节点，右子树的所有节点都大于当前节点，并且每棵子树都具有上述特点二叉搜索树，左子树的所有节点都小于当前节点，右子树的所有节点都大于当前节点，并且每棵子树都具有上述特点</p>
</blockquote>
</li>
</ul>

      
    </div>
   <div>
        
    </div>

   
    
    
    
      

      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>

  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/31/">31</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



           </div>
          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

          
        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="meadel"
      src="/images/touxiang.jpeg">
  <p class="site-author-name" itemprop="name">meadel</p>
  <div class="site-description" itemprop="description">我的愿望，世界和平</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">154</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">44</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9qdWVqaW4uY24vdXNlci80MDE5NDcwMjQ0MjU4NTUyL3Bvc3Rz" title="掘金 → https:&#x2F;&#x2F;juejin.cn&#x2F;user&#x2F;4019470244258552&#x2F;posts"><i class="fa fa-share-alt fa-fw"></i>掘金</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1ZV9taW5k" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;xue_mind"><i class="fa fa-th-list fa-fw"></i>CSDN</span>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2016 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-star"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">meadel</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">846k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">12:49</span>
</div>
  <div class="powered-by">这个世界会好吗？我是那么热爱这个世界。  </div>

        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="js/canvas-ribbon.js"></script>
  <script src="//lib.baomitu.com/animejs/3.2.1/anime.min.js"></script>
  <script src="//lib.baomitu.com/next-theme-pjax/0.5.0/pjax.min.js"></script>
  <script src="//lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script>
  <script src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="//lib.baomitu.com/medium-zoom/1.0.6/medium-zoom.min.js"></script>
  <script src="https://lib.baomitu.com/lozad.js/1.16.0/lozad.min.js"></script>
  <script src="https://lib.baomitu.com/pangu/4.0.7/pangu.min.js"></script>
  <script src="//lib.baomitu.com/velocity/1.5.2/velocity.min.js"></script>
  <script src="//lib.baomitu.com/velocity/1.5.2/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>


  <script defer src="js/three.min.js"></script>


  
  <script data-pjax>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>



  <script data-pjax>
  if (CONFIG.page.isPost) {
    wpac_init = window.wpac_init || [];
    wpac_init.push({
      widget: 'Rating',
      id    : 34163,
      el    : 'wpac-rating',
      color : 'fc6423'
    });
    (function() {
      if ('WIDGETPACK_LOADED' in window) return;
      WIDGETPACK_LOADED = true;
      var mc = document.createElement('script');
      mc.type = 'text/javascript';
      mc.async = true;
      mc.src = '//embed.widgetpack.com/widget.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
    })();
  }
  </script>

  
<script src="/js/local-search.js"></script>









<script data-pjax>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>




    <div id="pjax">
  

  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//lib.baomitu.com/valine/1.4.17/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'xOnoKG9QyBMz9vYupNusn9fn-gzGzoHsz',
      appKey     : 'RfiNClAkp7Ewe9rlzrjAQEXC',
      placeholder: "吐槽一下...",
      avatar     : 'monsterid',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : '',
      requiredFields : ['nick','mail']
    });
  }, window.Valine);
});
</script>

    </div>
  <link rel="stylesheet" href="/dist/APlayer.min.css">
  <div id="aplayer"></div>
  <script type="text/javascript" src="/dist/APlayer.min.js"></script>
  <script type="text/javascript" src="/dist/music.js"></script>
</body>
</html>
