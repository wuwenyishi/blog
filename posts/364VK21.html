<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://cdn.baomitu.com/index/fonts/css?family=Ma Shan Zheng:300,300italic,400,400italic,700,700italic|Noto Sans Simplified Chinese:300,300italic,400,400italic,700,700italic|Noto Serif SC:300,300italic,400,400italic,700,700italic|Monaco:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="//lib.baomitu.com/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css">
  <link rel="stylesheet" href="//lib.baomitu.com/pace/1.0.2/themes/blue/pace-theme-minimal.min.css">
  <script src="//lib.baomitu.com/pace/1.0.2/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xuemingde.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":true,"sidebar":{"position":"left","width":300,"display":"always","padding":18,"offset":10,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Here&#39;s something encrypted, password is required to continue reading.">
<meta property="og:type" content="article">
<meta property="og:title" content="限流实现方案">
<meta property="og:url" content="https://xuemingde.com/posts/364VK21.html">
<meta property="og:site_name" content="Middle&#39;s blog">
<meta property="og:description" content="Here&#39;s something encrypted, password is required to continue reading.">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-03-04T16:00:00.000Z">
<meta property="article:modified_time" content="2022-08-13T08:46:48.931Z">
<meta property="article:author" content="meadel">
<meta property="article:tag" content="C">
<meta property="article:tag" content="集合">
<meta property="article:tag" content="并发">
<meta property="article:tag" content="算法">
<meta property="article:tag" content="容器">
<meta property="article:tag" content="Nginx">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://xuemingde.com/posts/364VK21.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>限流实现方案 | Middle's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Middle's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">一位程序员的成长之路</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-notepad">

    <a href="/notepad/" rel="section"><i class="fa fa-book fa-fw"></i>备忘录</a>

  </li>
        <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-download fa-fw"></i>资源库</a>

  </li>
        <li class="menu-item menu-item-collect">

    <a href="/collect/" rel="section"><i class="fa fa-star fa-fw"></i>收藏夹</a>

  </li>
        <li class="menu-item menu-item-links">

    <a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友链</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

           <div id="container-1">
            <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xuemingde.com/posts/364VK21.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpeg">
      <meta itemprop="name" content="meadel">
      <meta itemprop="description" content="我的愿望，世界和平">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Middle's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          限流实现方案<span class="exturl post-edit-link" data-url="aHR0cHM6Ly9naXRlZS5jb20vLS9pZGUvcHJvamVjdC9tZWFkZXIvaGV4by1ibG9nL2VkaXQvbWFzdGVyLy0vc291cmNlL19wb3N0cy/lip/og73lrp7njrDmlrnmoYgvMjAyMjAzMDUt6ZmQ5rWB5a6e546w5pa55qGILm1k" title="编辑"><i class="fa fa-pencil-alt"></i></span>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-03-05 00:00:00" itemprop="dateCreated datePublished" datetime="2022-03-05T00:00:00+08:00">2022-03-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-13 16:46:48" itemprop="dateModified" datetime="2022-08-13T16:46:48+08:00">2022-08-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88/" itemprop="url" rel="index"><span itemprop="name">功能实现方案</span></a>
                </span>
            </span>

          
            <span id="/posts/364VK21.html" class="post-meta-item leancloud_visitors" data-flag-title="限流实现方案" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/364VK21.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/364VK21.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>14k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>12 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="密码错误！！" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="7a52820a0b5507689f099250678c88aac23430f4c250c0536a5bc9bb99ef480e">6e9d7ca9294f2dfe030bce02e69a064306af6615769b139d13a5607604498b9a9c8e630bda811f82c674ec4802bb6fb8ef930d4aa6b698d61fa2149b58815a6ccefb1f6f3de19bf4b42378e1c481632a68094f7ab4158868b0b0d0d339dfbfa494a122f563b7d2541d298b5a7c9e5570ba5ceea24648b4875bb0601ef1f9ae85ef3cd26b391dacd81017ef06cdfbe1c26014dbbaf5b9799a91c3342193438c7e2240c03da2125bd2f0bf3c6e4c3f5c2bb576ed5368471cff007525b3c7e92fe3aa51c851bc979230d1fbcd00b1ce4bf04643ed699c6fc723ae1e201c980ea4271a75d96030ec677554cc2bd4d087a4fbe580b1f11580a5c4e252b1a595b55ddcac7bbf46b05eaf7181918ea9e3cf031b095cb5135c305ec58f0ad318f99daaffc2d640622303f33e020dbc42ae1be6b22f7b73ca9a1265c8bc12c97683c3d1e098266a5f4bffbbe36f442141c9ba0b0327ba0169e226799cc943e182d969d3791a8f663ccb2fb77995b66a1508fa8975913c7b19328f027c8a87db1aff4ebdbf45677898b5204cdb5680b3db1dbab5216b36afcad26e188f1980e7925bd857538f70c421b9dc71a5d0b1c9cb8819165990e0e33d9327e8fbcacdf699afba3c82d71c7b9c2e32b019e2b856848ebe2ed0414702cfeff8748c03848858960bd04870e7b0a8b04b9f69bafdc3787b364326df9c21733f84867ab51dcae586fa9a9cd42a9d4ea4feb8ed55e826c4868419fb99bfd19fd7f0873aa27502656975351936b83c82e14e6045bdde46f5d2dcdc655e3d1c3da0a6fa3424b7aa388a79117d2d84c74d2dfbb2195a31d0d8d412b9d629d5ae8525dc92db014fab27e80ce9cba4420137757d35c32a2ec50c2d750572ec7b556ab22b36bfc0dd1a6138e853be652662d92994d771657bf229a90b6f9e18508c66cb07bc9e3bfb152142e4295406d084332b3f38bdd0c875ea025cd1459b126d7dc62f3e885756573f17d8c4772708073a8c1fdd174046610f9da2587d2ba9f92ff339b2b47ac878a1f93baa7627a6ce3dea38570736c1588ebb40b71afc9c8a0d98b94ea3c9c911e9f782ef55856ea24e18c9b3682c9740e9f5e95b66422b942f7edaa81377781e019b546dea5a73665504498dc867a24a4df42669170e20488161f92b84810a20d891e9e738854eb11dd4514ceadb020546fcaa99ee294ebfbd8e3885aca0c9bdfa0908ccaaadd535969444776887dc826d5672365a2fe2195d082ac0473dba1733be89467b6bbfe2cbfb455b2ab3fe16fe28be40ef701c8f69ee6c6970b53eb204e7cecd702199515f45e71ff586420083828084f39b8b2d03f797b86d43f2f425eb02ac1554d5bbf9e9be3769703c18f9ee75df331d5ca881871bfc698269efbd037dcc2ae34a647d65338be9f39ea37c4d23fc42425bebff1c5536cf2d2dd2670b491ecb544d98fd39d800e9bcf1609d8ea966595ee4e3d4acec24a8b70b2ac46bf97dc6307427e33d96529b10982b14a4f52b503bc0a40f2bf0f4dc864cec499356d16a4ef417190950ed2124b8189ffff2b91713a9b6a35de0f95354795e9f22744f800c6787d4ef664dd6e6d88d21878490bb730417408ca034985662cde941faff5fb942389e9f43d6dd04b96c35d69d8f03ddfbe912b58a5152ed79cd2d7afc7b7ad054c519330ef7722f67a99b825892a65771ddc05c8c85e7a077a9debd7dd9178bd882009119378519708701d10b531c9322cc2fd041fd5c527ce8c4af72a26357e8ee70992d1493a526e9085581369d20885e23c0a27aeb02ea25ec784498db67fe61d37bb7185df04592fd68941a1d7129907e7a594a51ee4f796ec88434fbf66335753c413c310acc0f8b1fc40c50d429e350dff5c3c2baed3fd9f0db49ef16691b16ceb8cb0ba17a464508525ce2af3a7f6dd123c8c03c14bca9a5130461d5d1ecc8585024fac4a50f324ad9e3dfd3920b7f6bfce5acd3ffdd355e1c97606fac79dc87ae03800f782c437101ba678a349591cc45a9d825b247f4d15a907a3a7a260d9d6e0fb5f66a0bb325eb1def6f6caac983bda6fab27ec2233d9d82421c8273da4fa436e5ddd63e8315b7c50692ce011dad5a037548978d8f6b6052bca8f54bd658859b817f7bd5be6aa7418e9417cc186b68282ec6a3dc3347a03171dd4bd3deb863e389a45ec330dbaad27db4ee864531d5ce11d5448c95d82e265bd9ee2651a2cfb8df043cbf4a237b3ae8b3cd39b73211b6b7c6add9168ffb56801c5b802930bf1df4f36b2c558a3fc1ac9aca6575fd2b2d836f0d31dfefb710d80458672abf35e2a6906127f3fa1c9083335b93ee696c01487eca54e1c4ad0bb27e1ae4772d0f6236e176ecfb6fba089b1e43d3b13a31ae183a1ff59f02ff0c1b327ba331f34e188d539a91ee30e374839acd8f9cf99d21488481d3d7729d2b55e53f8bfe0f4365a4ab0f21b2ca75a92f4d3cfa2c10edcfb27c293a1286212bbbb9ac29580d6f549c5f9c33beefa909d64cb3bfe6ea266fdce2f9d113a82ed7a7bb95b53af3850661048ef4920e57c42ae8af831cbe04e640ebd1133d308034d5dbcd1d0263d8b2a3e5c1eefa860087742723730f6f6d7b50dc3a3492b4c0b230e19f0866063a8fa892c2662907f20406c5d200368bfab6f8aca6f4e21a5670f29aeef5b39868576d541288330cce3fe232c8839ddf33d68956b8c2e799798db4a9292c073c17a9717fc09ed8ddfdc040d4f09f207cae432712c309c53e5ffcb574b5988d152fb0e7cc00fbf50c07f36fb692ec08ce8b05c6aa5c6d0380aa24d36b968960362b0b094c0bc3791d3e59d3d69ab1c0245c29e40c4129a45ff3d407bdec44114e2ff2b88be6cdfd470f0430c2db4bbc5ddbc0750f74cc722ce4766b3860484ed58c0e9b0b9ca48ee3a84e34f53668dc31f134eeda9ce5af077accb5a8e4a33e0b1427fb00427e5719d33aea1ee060b85be7c23805ae6c22318620038e4832b7e7b51a87037065b2b307781fd773529de058cbe1e7ad512731c5ad1433a4bab731b209f151610e4c32936369232051ae1177f6af25e1aa4f2e89e5865f6ee60d1e03bed4712d2faecabd8ed9370abb19c6bbfd7df70a403ba04cf82ecc672c86860ebcdcca42f01bf64eaf275da9d7f631cbe43669f0b62083046e39110161862e4f348d9a3fb646e7ad1385b57fef75668535cf20be6d9b128ceb075fbdbf58f457b7dff95dea558fddebcf60a07a19bee48f327919077a7a8b7c99d3b10620aadb1080c9d403784d7c6bad4de259ad44cccc0a9f466d64498337089466da7f074feaefbe594fe302b6a83749755e5e6881bb059d39e2142bc358f3ea1c95741de6bbb974dd5e5130ad96b35c8737056340757d86bb6613702c6b419d17ef30044cbab77fa21b0e5e60d27e3d709b60b7128e620634ad35c1519e319d4e718163e0875ba7505c40ca2b102d39093aee6aa19e5b8daeab97ec8333c5729003807e7c35c0f6a8ff2b08144c18c4c95309d01e05d7007cf9c8dfaed88b9a98e00e745569ed8879c612a31decb5294dc6f601f90afc2a7bb170a4041379e4559383832b7b08ae1cb3bc8513c44a498e0e5a7a4cd29febe9b1ecf7639dc018c9296eb38d70c0bea884e5e66d9521843c86ee0e808515b785967b828a7672c78073c8bd8e1ca5360c29739bf8a1ec9214db4e0015f94a92d5812812e3dbe049469dc1672b4ccdbcbc7e4c7167dab85b10f068842df6030940e32b806ae2986c4aaf253e40fd3da81bf83797bb6e32d617d745d548171b0327b5768d95c743399c7942cf94fb4206e3042a567abcaff8fc5c657e2adabeafa54d7103673b363bc12546ab5c82d6a96dfae64f377fa0d4b0769620596b44e5916f659f1c337063a2d05f71c3233cadae05fa202a021f294d07a7d346e2b4c41e4ae6fc34b9f1ab92ea987b8b70c16df55e57754f6b2f10d0ef7c4faf9c56c06812404662d5126a0e90e25a925a1fda302eea827fc1b171b92d59de2c8fbb04fa60fa459e8ce9acb8dbc60163528401f5577a0a264dfed68dd4fddc4a743c763f115c9297ee493a10cc6a7ecfe5f71f9956fe085b63aee046a9e81142d3c7d950c32edae9643469b629cbda78c46b104f7f1b2396965a635a02040f51943af97768ed0f00e4b3d5fcee71bab024b3e3691e9fcabbd167e26b3068698e5d186ed98fdda83c43e6732551cb58252d211ce70fad0bb6b81f7d13fe634117131da1c454914d03e54f59dcdd4f641b75f8d438620bf29f5667557bcf705572f9880be89e2231e7caac499187071725b940c322b25327571f8bce11a235d376d07c49a878233a5f058be9d6af6dc19d15b0909ad2402318ac164d071641b134cc67ab234f64c164fb3dcd3835b9934a7117098ebd7925d11f45cbaebf2b5531597c766e336073b79abf5ef21f97dc4dcdb0fb22883b166d7b84b1dc9e54dde82e88c7262f00fae2198ff57a4dd9e4f638607a4db153194202f2e159e765a7f339527c64f37e9ae09969720da5fa8311f6e95869ef3ab3b5e80f01c24f3201822f70da078134bd0980f502a19a35408dfaabbd281a6f02ded1b4a1b751d72374a02a0fe3b6ae167e87e4b952d8f6ec45a8c1f1c60b4cc677d55806cfde8d20000e7e9bffa2d30f584842e16a98e2cc6206941426a846b9e602d5078f51f5c534ea4a694a6f40db9c355faf7485b9a4d9eefb841f6e762cd2a1e0e9881ed4688ac8e349d7dd3ce4760ed1377c25b51f3cc52723e203cfb59703c4d606d1c378e82a9ab42f0664e081dbb97478de57218da2cd3b255f664c519f9f8a459a4fb24d467c07014c250032d80036938b953f40b4b1372b3e85cdd5d19881ec50f9169250ae9bf951f1470efa52bca9f349bc403ed685ad5e72986d8b092c58b5dfaa1da4c1a69dca74c18bfe080863f0ba9e2d5349adcb6f8e66447ae8c7e435a8827bcf366a4f0ec80eb2ea9bfe4704f9abd5caecb8dc8e414ed4a0f7357b62e3afd2681c6a4740c2d8070c6e6c63bd28081638cceb468012f5a2a739c082a7108877b6b91cedafa6c7a0d35c45bc1d4b8ae97ee025e253298a275e74da9e0ac850b2e2cf475ff421cc2742612d2465b5822d98a4879dc3a07db557b7938ddb392ce8fb3032d91b379ad3283b11571275f7380da4cadf28b72ee457592404179a467221035c9487ede1f0b67002793691e93bd88d399f17794182e6845ff3442b7ebb63be65a3e3c4ed242b64075c52b7bb97342bace9bfb423d8453ebd5f161a96ad77708aa0fe7d11a1beea179af7a614bd74bb340f55978c5ef0ec59a595f2199dcb57ade921a5f5288e3f155a9b6afca9a0d7ec95b3f06c098612a01ed2c484f6baad711568910c7de9128af1e7c9ae3bba9f27c5d6bf25011ca193a7c79262f64a3320672373aadf89523d23b38347ebf36c74a7b5893cbc9bc40ecaeefe17a02bc6e05e467c3753934f9a08e5c66e46ef9d5c89afc99b7fcca6814401fa008b07df07ba8035ab50895fa8ccd778d0369a8dc089b5472b2495b19a00a549c5581e048a7ad51d71147da4734e6037c7311e870ee7e6f60950f52b3053994696a1a7614ab8a34034a6bb87548b1c2bc8b43f69230df2ada1638ff6fe3503c0bfc3c15f4bc06f3d288622076cab55cb0eb16da11ee84643e9812b443ba03dfe7e48629c6a444c880c3c6547c57ed569260dbdf85d7f9a525c2fb6e791266651d0ffa5c9217ff6e2b21144c139f7b760aaa01c81849f9883ad4a04db1fa9591a5132fe46d2d2c2900bea1f6d65d1499135c2e4172bd543a20ba90dfaf9c780950596cea61ba66349382c27a24b1bcb1df71c8b3f16842649dc7de1e9730ca037634769b00578a332e9a1e9262b727091ef0148d7cce01e33727ba61b69c42453eec19b887aa0228e889307a10084efffd128a0c814cb354f9d110a3e4918f624c0fb91fe179234306bf82ef7c68ce5698a385e6a081bab1c073d42de0c29caedcb3b8030bb5774c6be9f102edf127654fd187bff8f7e1b151da1cb8ca59b5e694203dace0dc16df1a9b1e5ec28b4c3035a844eacda46924239ee3d9c61840712556f7e50c1aa9b36fee40d69d28eed0cc2d9bad1b552044290f8c0cc53e25f3a8a59c98792cd339bf6389bbaeea3c1c3d98f9fc9826400228552a6ef9249ee4246bd53872318622b624ca1cdc43e0c3ff0cfe7ec87439769b97ebacf3807bc26174637b1c6d2059abd6c370c7591f83a14db3099df5988d17efe7ca788e4248bfac5f9245603bb8dec8fc5eb690816dfacf1ed98daed0ce1da8f62de5566176d33118571a92fdd3342026bfc1e868bc55c4ddd18c00a5fa1f79450162f813f4c65da1c79d85ce43214c43093f8077b604fb11574d8b855ab799851d5bb09451dc92e9bba5dff94f5edae09089673f534fae914ab45fac39475a52560896875b5f1d5b59cca87c5c697382b6ccd675881d315187fd95882d4a6ebea8fd18d4cf87622d13c9eb0a50ca1b3b8530a3a3363d332914cf81a8152d2452fa0294818c89a4d40e4f9c14135fbe63b74f95cfd95a2fe9379b34dee11fac9b707bae5cdc255a8f4c3abf09c63c87caf60e650886abe62e969808f0336e5a0743cdcf3124cafacc093be19d7e283225a0981012ef9b462cbfc343ea86ca836974f3ecbf2bcd651c605c148e35ebc39dda6d02f527b5502005ed736d4d16d2a98332008f7eec37f7cf5b225bbd5f9324b2fd8be676265dd1214cb8062dc0f2e1fad619530b7354bbaf61d0ea59b0008655b294fbb3d9c86bde47aed4625e5de0e4c52f9cc46163e96342d84615bfb9bfc8cc4dd227928e076f2ee9ec739e97d7d4221d4b65ac89e753861443d39e020fcf9ea4ba49982b68035bf7f2021b6178aa2e768c6f7400901f7d540239aa2c1d955f15deeabe733f1213a67acfab09478d3debe93f2c9eeaaeab920269e073cb0e7cae9d45c805c3ef19520034dfdcef04ab6e323a1e2ec6fe200d960a7f14aa89b441c5d957972afcce82c9443da3f79c130d438ebb66ef5d507314fb5e0b8b4caf9de15337d05980cda2c0d20fe0480425a6843c1e8a736a0ecad9fe86d0c48dc9a50a74311a018de6381001922df16753ec32963534804b8c5a8acb7c9750023915b3dad2f8cdb655c321caf2ccc511b2e53bc3b7411ff16d5a57b1479589f34a293945ecbc33fe7bc0ce92e4aec0f0f61820fc02d97c7f80730666f5517e3686c249e29c4a067c3999ab6578ab66ec5d965341764d6ecb471b543997a7893c785ca72cf5833bce71e4bcb7cbb126a7b21010a6cbeafb8c5e737371806f87443a5463acba0063b26ac5cfc7c30a7fe1b867f39e5e74f6924bf8e753cf3327b682737531dcf804f6e53a092c762dfd195d239537f92f265c028593e0adf156f60919e249afc637fe13d409c9668f20eed505af1df2fa7b4ab292b9534059ab7385f65e4a93481f28406764a9f18ef8213ae9cc711fd1fd3d0f3d32fe830dcdf3eecd71a4bf2367ffdb376695d367fc84200294a2563d2b79b9140f4c06ad6a52f8380ffc8342e8c6a8504c612abfc40a1d75dc0f454588bde0427170694040c2d8b7c194b19e1e43119922237d8a2d7df6afce8007cb474fda8008fdc70694ab69fead8dcf3b5ce85f4ee29ec9cb96ece123ae2204f7efafbea3dd43cf85a797fe0342bbc10e16518c8e8997a4ab623e4219640a86b79836f9a77e3544b19cfd07fde6205f14b81b86da6bbaed5b42e7f880b5c5c9b32038aeabc9b20adda2d4e8752c576e7e841ae5419cece1c849ef1bc6136472d8660499f92940f87377f1904afb88339518719b0efd6a9a9aa5bf68bbd9a63b51cd054e80d3356a08a3d16e2d42945584820ebaa80d12cdfa5941b95ab9adc81124ea4b8d5cd4ceb25a63c59cfe61eb126ec41a6086d3dbefddf3a6a7f601391af2a7dc91b5bd9a1bb8e99b99e04df1b425205e9cf9f0fcda4f68178b9bc06bf8a79d34f29a841437bfb176752659066d71160b19120805c8f1e0d00d58ba50538e544d128ab8a21d3f382e0df1c11bb843e0f15cf1d2935ecb002ccfbf7b087edab131ab737a7b970efb53c196f1b772e256958def110f98ee5e3d4782c7a901fee70770d6b155faaf9f0a5f3f5c7cd98170b4c0be644c1629d4414b0d1aaf6e36b35bb7fb4dd6f1e80a4a4e29a8afe79fed706eb68844a192fc747385ef95aefe06f53fce673577a6297bb3b889b76682d8d62a6096db34a7da7b7966bf1989c6fd42025ac9b41bedd7c9ca9476c91cc5bdad1dc8b34349872747cf1c75853c138910fffc9dc7de6696cfc21551342dbb687f0ea6ab1b1fde6e5dcf11aa26414bab3ef26905c5d0db9a0c089f300027449be0948209087779d0d854c6e0f7ad4c7961ec8cca9e4189e864760de53b6ff26b53ee5df5a4cd97f570e8518d5d229d338b78d8b856ee1c4429a2764c660dda7b61b31c73a811e5148f21e65ad1f3f7c095ddf440ac3d0fc0bdd56949e4c13cfa74cecd5b21a29fc57ef0c1f2feff6882397cb9dfbd83375a6c503edd611448e6bd12de9ad7a84c2a85d17d71534c7e86832cb84d83a930e1c13beffa5f571f8030ab106738256d01afdd178bddc2c7589f743b5a7ab4dec75403f97fbc14f5a5d1b2230ae917574bbafe32e84d24dd0f2a1c57627a8606cbffd81b2c9476f9666386b5ed4998a927182e610f487052325b67e2b32e7bf387e59435d700b3b8eda2e34d683eb9c12dc27d98b970064dbf3140f1e927cd7f58e396815cc4bfaa63fccbfb795307f6b5b484d6eb7ca1772fbffff5a8ccb95eef0c181257480a5b67adc449414e9f9d7a1256a0f4880c0fb992a0bb673b24ad163621b953385c91eee2b6f14a54ce6a71bfca06e44c45b3bd8a23197ee74b9bdd6518cd5b66a82ef5826329ba349cde57402229050905ac51db386519f7083d2993a2ac072d9126e7a5b6850dadbdfcf5f78f9a31f2413c85e79bcc67fb3258068c384fe1f0a60a9766049af30754bd8b05fe73f42b3423197f6e21d37474f586a40122b8579090302db08457890fb56610b960557330216d27e2d9a0c3719e2c02d7b11077ea3bf98b4439f7df77e8d18aaf6b6e78a408e1f366c3a71da69d5776b75156f3b9ab021edbdde809e444d120d7af22202f1ca5167c50f3359768a9212141be688fd026bd5dd1e628c7aa3650316c0d8514f7c066f5d81ed8c0f90757a63536c3d222145e60c7bc1ab8516d6acafd38e8ef30e822f677e0c1b45bb0b6dea0fe107d7cbe2bd438a81600214b502ecf912a19cb422f8bbdfe4ab66593c918c58a3243b6fcb2aadf6d2d712eeef99d13e55a59492784ade033bc1b1c7434244ecf4d1a8459324f205956af69efeaae91a2a3a6bed0fd5366c1d126f23d8c7aa841f73401043c11328960edef28c18b652c94a41f0c96c933a32e05c1213065188c0077ba60fdc4e8572e73b7e0f1a6cb3fd9733e2f0212385a0a3b092838cc970d06d6fd5942a54fa3aea23c45a99638d06f80346a7c4ca576c7bd45304535af40283b63a6b030fd5113193beb10a38930bb16babad77b39613e1803aac7df30e49a2a9ed3696bd6e6e7044c668995826ce35be562a20fa1ea4c19cbbebe5552c0ea7918914d9e0608a69da4e0823dab29d51a9914ee277e614220bd64eb62f4d01cc2e8258ecfd898a8a9184b2</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">未完结</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">
    </div>
   <div>
        
            <div style="text-align:left;font-size:14px;">
    <p style="text-align:center;color: #ccc;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</p>
            </div>
        
    </div>

   
    
    
    
      
  <div class="popular-posts-header">相关热门文章</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/3GHHYS4.html" rel="bookmark">Qt&C++面试题</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/1F4JVMQ.html" rel="bookmark">一文搞懂redis</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/1J88EXM.html" rel="bookmark">如何设计一个秒杀系统</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/J71QTX.html" rel="bookmark">秒杀系统设计</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/3WWPT6W.html" rel="bookmark">聊聊ConcurrentHashMap</a></div>
    </li>
  </ul>

        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wexinPay.jpeg" alt="meadel 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/zhifubaoPay.jpeg" alt="meadel 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>meadel
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://xuemingde.com/posts/364VK21.html" title="限流实现方案">https://xuemingde.com/posts/364VK21.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC96aC1DTg=="><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/C/" rel="tag"><i class="fa fa-tag"></i> C</a>
              <a href="/tags/%E9%9B%86%E5%90%88/" rel="tag"><i class="fa fa-tag"></i> 集合</a>
              <a href="/tags/%E5%B9%B6%E5%8F%91/" rel="tag"><i class="fa fa-tag"></i> 并发</a>
              <a href="/tags/%E7%AE%97%E6%B3%95/" rel="tag"><i class="fa fa-tag"></i> 算法</a>
              <a href="/tags/%E5%AE%B9%E5%99%A8/" rel="tag"><i class="fa fa-tag"></i> 容器</a>
              <a href="/tags/Nginx/" rel="tag"><i class="fa fa-tag"></i> Nginx</a>
          </div>

        
  <div class="post-widgets">
    <div class="wp_rating">
      <div id="wpac-rating"></div>
    </div>
  </div>


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/1HWEQYQ.html" rel="prev" title="MYSQL优化">
      <i class="fa fa-chevron-left"></i> MYSQL优化
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/2DNYERW.html" rel="next" title="sentinel工作原理">
      sentinel工作原理 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    

  </article>
  
  
  



           </div>
          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

          
<script src="https://readmore.openwrite.cn/js/readmore.js" type="text/javascript"></script>
<script>
    const btw = new BTWPlugin();
    btw.init({
        id: 'container-1',
        blogId: '29491-1649429697615-963',
        name: '不闻一时',
        qrcode: 'https://xuemingde.com/pages/image/2022/05/31093822.png',
        keyword: 'meadel',
    });
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="meadel"
      src="/images/touxiang.jpeg">
  <p class="site-author-name" itemprop="name">meadel</p>
  <div class="site-description" itemprop="description">我的愿望，世界和平</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">152</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">44</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9qdWVqaW4uY24vdXNlci80MDE5NDcwMjQ0MjU4NTUyL3Bvc3Rz" title="掘金 → https:&#x2F;&#x2F;juejin.cn&#x2F;user&#x2F;4019470244258552&#x2F;posts"><i class="fa fa-share-alt fa-fw"></i>掘金</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1ZV9taW5k" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;xue_mind"><i class="fa fa-th-list fa-fw"></i>CSDN</span>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2016 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-star"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">meadel</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">925k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">14:01</span>
</div>
  <div class="powered-by">这个世界会好吗？我是那么热爱这个世界。  </div>

        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="js/canvas-ribbon.js"></script>
  <script src="//lib.baomitu.com/animejs/3.2.1/anime.min.js"></script>
  <script src="//lib.baomitu.com/next-theme-pjax/0.5.0/pjax.min.js"></script>
  <script src="//lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script>
  <script src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="//lib.baomitu.com/medium-zoom/1.0.6/medium-zoom.min.js"></script>
  <script src="https://lib.baomitu.com/lozad.js/1.16.0/lozad.min.js"></script>
  <script src="https://lib.baomitu.com/pangu/4.0.7/pangu.min.js"></script>
  <script src="//lib.baomitu.com/velocity/1.5.2/velocity.min.js"></script>
  <script src="//lib.baomitu.com/velocity/1.5.2/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>


  <script defer src="js/three.min.js"></script>


  
  <script data-pjax>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>



  <script data-pjax>
  if (CONFIG.page.isPost) {
    wpac_init = window.wpac_init || [];
    wpac_init.push({
      widget: 'Rating',
      id    : 34163,
      el    : 'wpac-rating',
      color : 'fc6423'
    });
    (function() {
      if ('WIDGETPACK_LOADED' in window) return;
      WIDGETPACK_LOADED = true;
      var mc = document.createElement('script');
      mc.type = 'text/javascript';
      mc.async = true;
      mc.src = '//embed.widgetpack.com/widget.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
    })();
  }
  </script>

  
<script src="/js/local-search.js"></script>









<script data-pjax>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>




    <div id="pjax">
  

  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//lib.baomitu.com/valine/1.4.17/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'xOnoKG9QyBMz9vYupNusn9fn-gzGzoHsz',
      appKey     : 'RfiNClAkp7Ewe9rlzrjAQEXC',
      placeholder: "吐槽一下...",
      avatar     : 'monsterid',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : '',
      requiredFields : ['nick','mail']
    });
  }, window.Valine);
});
</script>

    </div>
  <link rel="stylesheet" href="/dist/APlayer.min.css">
  <div id="aplayer"></div>
  <script type="text/javascript" src="/dist/APlayer.min.js"></script>
  <script type="text/javascript" src="/dist/music.js"></script>
</body>
</html>
